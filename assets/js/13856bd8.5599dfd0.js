"use strict";(self.webpackChunkceluveat_team_blog=self.webpackChunkceluveat_team_blog||[]).push([[2715],{3905:(e,t,n)=>{n.d(t,{Zo:()=>m,kt:()=>d});var a=n(7294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},p=Object.keys(e);for(a=0;a<p.length;a++)n=p[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var p=Object.getOwnPropertySymbols(e);for(a=0;a<p.length;a++)n=p[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var i=a.createContext({}),s=function(e){var t=a.useContext(i),n=t;return e&&(n="function"==typeof e?e(t):l(l({},t),e)),n},m=function(e){var t=s(e.components);return a.createElement(i.Provider,{value:t},e.children)},c="mdxType",u={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},k=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,p=e.originalType,i=e.parentName,m=o(e,["components","mdxType","originalType","parentName"]),c=s(n),k=r,d=c["".concat(i,".").concat(k)]||c[k]||u[k]||p;return n?a.createElement(d,l(l({ref:t},m),{},{components:n})):a.createElement(d,l({ref:t},m))}));function d(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var p=n.length,l=new Array(p);l[0]=k;var o={};for(var i in t)hasOwnProperty.call(t,i)&&(o[i]=t[i]);o.originalType=e,o[c]="string"==typeof e?e:r,l[1]=o;for(var s=2;s<p;s++)l[s]=n[s];return a.createElement.apply(null,l)}return a.createElement.apply(null,n)}k.displayName="MDXCreateElement"},9091:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>i,contentTitle:()=>l,default:()=>u,frontMatter:()=>p,metadata:()=>o,toc:()=>s});var a=n(7462),r=(n(7294),n(3905));const p={date:new Date("2023-08-14T00:00:00.000Z"),authors:"taeyeonroyce",title:"\ubaa8\ub2c8\ud130\ub9c1 \uc2dc\uc2a4\ud15c \uad6c\ucd95\uae30(1)",description:"Spring boot actuator, Prometheus, Grafana \uadf8\ub9ac\uace0 Docker",keywords:["\ub85c\uadf8","\ubaa8\ub2c8\ud130\ub9c1","\uadf8\ub77c\ud30c\ub098","\ub3c4\ucee4","\ud504\ub85c\uba54\ud14c\uc6b0\uc2a4"],tags:["\ub85c\uadf8","\ubaa8\ub2c8\ud130\ub9c1","\uc778\ud504\ub77c"]},l=void 0,o={permalink:"/team-blog/back-blog/royce/monitoring/monitoring-1",source:"@site/@backBlog/royce/monitoring/monitoring-1.mdx",title:"\ubaa8\ub2c8\ud130\ub9c1 \uc2dc\uc2a4\ud15c \uad6c\ucd95\uae30(1)",description:"Spring boot actuator, Prometheus, Grafana \uadf8\ub9ac\uace0 Docker",date:"2023-08-14T00:00:00.000Z",formattedDate:"2023\ub144 8\uc6d4 14\uc77c",tags:[{label:"\ub85c\uadf8",permalink:"/team-blog/back-blog/tags/\ub85c\uadf8"},{label:"\ubaa8\ub2c8\ud130\ub9c1",permalink:"/team-blog/back-blog/tags/\ubaa8\ub2c8\ud130\ub9c1"},{label:"\uc778\ud504\ub77c",permalink:"/team-blog/back-blog/tags/\uc778\ud504\ub77c"}],readingTime:14.43,hasTruncateMarker:!0,authors:[{name:"Royce Won",url:"https://github.com/taeyeonroyce",email:"skdlxmtpqms@gmail.com",imageURL:"https://avatars.githubusercontent.com/u/90550065?v=4",key:"taeyeonroyce"}],frontMatter:{date:"2023-08-14T00:00:00.000Z",authors:"taeyeonroyce",title:"\ubaa8\ub2c8\ud130\ub9c1 \uc2dc\uc2a4\ud15c \uad6c\ucd95\uae30(1)",description:"Spring boot actuator, Prometheus, Grafana \uadf8\ub9ac\uace0 Docker",keywords:["\ub85c\uadf8","\ubaa8\ub2c8\ud130\ub9c1","\uadf8\ub77c\ud30c\ub098","\ub3c4\ucee4","\ud504\ub85c\uba54\ud14c\uc6b0\uc2a4"],tags:["\ub85c\uadf8","\ubaa8\ub2c8\ud130\ub9c1","\uc778\ud504\ub77c"]},prevItem:{title:"Oauth \ub85c\uadf8\uc544\uc6c3 - \uce74\uce74\uc624",permalink:"/team-blog/back-blog/doggy/KakaoOAuthLogout/KakaoOauthLogout"},nextItem:{title:"\ubaa8\ub2c8\ud130\ub9c1 \uc2dc\uc2a4\ud15c \uad6c\ucd95\uae30(2)",permalink:"/team-blog/back-blog/royce/monitoring2/monitoring-2"}},i={authorsImageUrls:[void 0]},s=[{value:"Spring actuator",id:"spring-actuator",level:2},{value:"Prometheus",id:"prometheus",level:2},{value:"\uc900\ube44",id:"\uc900\ube44",level:2},{value:"\uc124\uce58",id:"\uc124\uce58",level:3},{value:"\uc124\uc815",id:"\uc124\uc815",level:3},{value:"Grafana",id:"grafana",level:2},{value:"\uc124\uce58",id:"\uc124\uce58-1",level:3},{value:"\uc815\ub9ac",id:"\uc815\ub9ac",level:2}],m={toc:s},c="wrapper";function u(e){let{components:t,...p}=e;return(0,r.kt)(c,(0,a.Z)({},m,p,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("p",null,"Spring boot actuator\uc640 Docker\ub85c Prometheus, Grafana \uad6c\uc131\ud558\uae30"),(0,r.kt)("h1",{id:"\ubaa8\ub2c8\ud130\ub9c1-\uc2dc\uc2a4\ud15c-\uad6c\ucd95\uae301"},"\ubaa8\ub2c8\ud130\ub9c1 \uc2dc\uc2a4\ud15c \uad6c\ucd95\uae30(1)"),(0,r.kt)("p",null,"\uc548\ub155\ud558\uc138\uc694, \uc140\ub7fd\uc787\uc758 \ub85c\uc774\uc2a4\uc785\ub2c8\ub2e4."),(0,r.kt)("p",null,"\uc774\ubc88 \uae00\uc5d0\uc11c\ub294 \uc140\ub7fd\uc787 \ubaa8\ub2c8\ud130\ub9c1 \uc2dc\uc2a4\ud15c \uad6c\ucd95\uae30\uc5d0 \ub300\ud574 \uc18c\uac1c\ud558\uaca0\uc2b5\ub2c8\ub2e4."),(0,r.kt)("p",null,"\uc6b0\uc120 \uc11c\ube44\uc2a4 \ubaa8\ub2c8\ud130\ub9c1\uc774 \ud544\uc694\ud55c \uc774\uc720\uc5d0 \ub300\ud574 \uac04\ub2e8\ud558\uac8c \uc9da\uace0 \ub118\uc5b4\uac00\uaca0\uc2b5\ub2c8\ub2e4."),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"\uc6b4\uc601\uc0c1 \ubc1c\uc0dd\ud55c \ubc84\uadf8\ub098 \uc624\ub958\uc5d0 \ub300\ud574 \ube60\ub978 \ud655\uc778"),(0,r.kt)("li",{parentName:"ul"},"\ubb38\uc81c\uc5d0 \ub300\ud55c \uc6d0\uc778\uc5d0 \ub300\ud55c \ube60\ub978 \ubd84\uc11d"),(0,r.kt)("li",{parentName:"ul"},"\uc2dc\uc2a4\ud15c\uc758 \uc0c1\ud0dc\ub97c \ud655\uc778\ud558\uc5ec \uac1c\uc120\uc810 \ubc1c\uacac \uac00\ub2a5 (\uc131\ub2a5, \uba54\ubaa8\ub9ac \ub4f1)"),(0,r.kt)("li",{parentName:"ul"},"\uc0ac\uc6a9\uc790\uc758 \uc561\uc138\uc2a4\uc640 \ud65c\ub3d9 \ubd84\uc11d -> \ucde8\uc57d\uc810, \uc5b4\ubdf0\uc9d5 \ub4f1\uc758 \ud589\uc704 \ubc1c\uacac \uac00\ub2a5")),(0,r.kt)("p",null,"\ub85c\uae45\uacfc \uba54\ud2b8\ub9ad \ubaa8\ub2c8\ud130\ub9c1\uac00 \ud544\uc694\ud55c \uc774\uc720\ub294 \uc774\ub7ec\ud55c \uc774\uc720 \ubfd0\ub9cc \uc544\ub2c8\ub77c \ub2e4\uc591\ud569\ub2c8\ub2e4."),(0,r.kt)("p",null,"\uadf8\ub798\uc11c \uc800\ud76c \uc140\ub7fd\uc787\ub3c4 \uc6b4\uc601\uc911\uc778 \uc11c\ube44\uc2a4\uc5d0\ub3c4 \ubaa8\ub2c8\ud130\ub9c1 \uc2dc\uc2a4\ud15c\uc744 \uad6c\ucd95\ud558\uace0\uc790 \ud569\ub2c8\ub2e4."),(0,r.kt)("h2",{id:"spring-actuator"},"Spring actuator"),(0,r.kt)("p",null,"\uc6b0\uc120, \uc140\ub7fd\uc787\uc5d0\uc11c\ub294 logback\ub97c \uc0ac\uc6a9\ud558\uc5ec \uc6b4\uc601\uc911\uc5d0 \ubc1c\uc0dd\ud55c \ub85c\uadf8\ub97c \ubaa8\uc73c\uace0 \uc788\uc2b5\ub2c8\ub2e4."),(0,r.kt)("p",null,"\ub85c\uadf8 \uc774\uc678\uc758 \uc9c0\ud45c\ub4e4\uc740 \uc5b4\ub5a4\uac78 \ubaa8\ub2c8\ud130\ub9c1 \ud558\uace0, \uc5b4\ub5bb\uac8c \uc218\uc9d1\ud574\uc57c \ud560\uae4c\uc694?"),(0,r.kt)("p",null,"\uc9c1\uc811 \uc9c0\ud45c\ub4e4\uc744 \ucd94\uc801\ud558\uace0 \uae30\ub85d\uc744 \ub0a8\uae38 \uc218 \uc788\uc9c0\ub9cc, \ub354\uc6b1 \uac04\ud3b8\ud558\uac8c ",(0,r.kt)("inlineCode",{parentName:"p"},"Spring Boot Actuator"),"\ub97c \uc0ac\uc6a9\ud558\ub824\uace0 \ud569\ub2c8\ub2e4."),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://docs.spring.io/spring-boot/docs/2.1.8.RELEASE/reference/html/production-ready.html"},"Spring Boot Actuator"),"\ub294 \uc6b4\uc601 \uc911\uc778 \uc560\ud50c\ub9ac\ucf00\uc774\uc158\uc744 ",(0,r.kt)("inlineCode",{parentName:"p"},"HTTP"),"\ub098 ",(0,r.kt)("inlineCode",{parentName:"p"},"JMX"),"\ub97c \uc774\uc6a9\ud574\uc11c \ubaa8\ub2c8\ud130\ub9c1\ud558\uace0 \uad00\ub9ac\ud560 \uc218 \uc788\ub294 \uae30\ub2a5\uc744 \uc81c\uacf5\ud569\ub2c8\ub2e4."),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},(0,r.kt)("strong",{parentName:"p"},"*","JMX"),"(",(0,r.kt)("strong",{parentName:"p"},"J"),"ava ",(0,r.kt)("strong",{parentName:"p"},"M"),"anagement e",(0,r.kt)("strong",{parentName:"p"},"X"),"tension): \uc560\ud50c\ub9ac\ucf00\uc774\uc158, \uc2dc\uc2a4\ud15c, JVM \ub4f1\uc744 \ubaa8\ub2c8\ud130\ub9c1\ud558\uace0 \uad00\ub9ac\ud558\uae30 \uc704\ud55c \ub3c4\uad6c\ub97c \uc81c\uacf5\ud558\ub294 Java \uae30\uc220. JMX\ub77c\ub294 \ud45c\uc900\ud654\ub41c \ubc29\ubc95\uc744 \ud1b5\ud574 \ub2e4\uc591\ud55c \ubaa8\ub2c8\ud130\ub9c1 \ub3c4\uad6c \ubc0f \uc2dc\uc2a4\ud15c\uacfc \uc27d\uac8c \ud1b5\ud569\ud560 \uc218 \uc788\ub2e4.","*")),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"Actuator"),"\ub97c \ud1b5\ud574\uc11c \uac04\ub2e8\ud55c \uc124\uc815\ub4e4\ub85c \ub2e4\uc591\ud55c \uc9c0\ud45c\ub4e4\uc744 \ud655\uc778 \ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."),(0,r.kt)("p",null,"\uc6b0\uc120 Dependency\uc5d0 \ucd94\uac00\ud558\uc5ec \ud65c\uc131\ud654 \ud574\ubcf4\uaca0\uc2b5\ub2c8\ub2e4."),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"build.gradle"),"\uc5d0 \uc544\ub798 \ucf54\ub4dc\ub97c \ucd94\uac00\ud569\ub2c8\ub2e4."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-groovy"},"implementation 'org.springframework.boot:spring-boot-starter-actuator'\n")),(0,r.kt)("p",null,"\uc774\ud6c4, ",(0,r.kt)("inlineCode",{parentName:"p"},"http://{server}:{port}/actuator")," \uc5d0 \uc811\uc18d\ud558\uc2dc\uba74 \uc544\ub798\uc640 \uac19\uc740 \ud654\uba74\uc744 \ubcfc \uc218 \uc788\uc2b5\ub2c8\ub2e4.\n(celuveat\uc740 8080 servlet\uc758 \uae30\ubcf8 \uc8fc\uc18c\uac00 /api\uc5ec\uc11c http://localhost:8080/api/actuator \ub85c \uc811\uc18d\ud558\uc600\uc2b5\ub2c8\ub2e4.)"),(0,r.kt)("p",null,(0,r.kt)("img",{src:n(6314).Z,width:"600",height:"363"})),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"_links")," \ud558\uc704\uc5d0 ",(0,r.kt)("inlineCode",{parentName:"p"},"self"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"health")," \ub4f1\uc758 url\ub4e4\uc774 \uc81c\uacf5\ub418\ub294\ub370\uc694. Actuator\ub294 \uc774 url\ub4e4\uc744 \ud1b5\ud574 \uae30\ub2a5\uc744 \uc81c\uacf5\ud569\ub2c8\ub2e4."),(0,r.kt)("p",null,(0,r.kt)("img",{src:n(9095).Z,width:"600",height:"363"})),(0,r.kt)("p",null,"\uc124\uc815\uc744 \ud1b5\ud574 \ub354 \ub2e4\uc591\ud55c \uc815\ubcf4\ub4e4\uc744 \uc81c\uacf5 \ubc1b\uc744 \uc218 \uc788\uc2b5\ub2c8\ub2e4."),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"application.yml")," \ud30c\uc77c\uc5d0\uc11c \uc544\ub798\uc640 \uac19\uc774 \uc124\uc815\ud55c \ub4a4, \ub2e4\uc2dc ",(0,r.kt)("inlineCode",{parentName:"p"},"actuator")," url\ub85c \uc774\ub3d9\ud574\ubcf4\uaca0\uc2b5\ub2c8\ub2e4."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-yaml"},'management:\n  endpoints:\n    web:\n      exposure:\n        include: "*"\n')),(0,r.kt)("p",null,(0,r.kt)("img",{src:n(5537).Z,width:"755",height:"1029"})),(0,r.kt)("p",null,(0,r.kt)("img",{src:n(477).Z,width:"755",height:"1029"})),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-yaml"},'management:\n  endpoints:\n    web:\n      exposure:\n        include: "*"\n')),(0,r.kt)("p",null,"\uc124\uc815\uc744 \ud1b5\ud574 web \ud658\uacbd(HTTP) \uc5d0\uc11c \ubaa8\ub4e0(","*",") endpoints\ub4e4\uc744 \ub178\ucd9c \uc2dc\ucf30\uae30 \ub54c\ubb38\uc5d0 \ub2e4\uc591\ud55c actuator \uae30\ub2a5\uc744 \uc0ac\uc6a9\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"more endpoints: ",(0,r.kt)("a",{parentName:"p",href:"https://docs.spring.io/spring-boot/docs/3.0.5/reference/html/actuator.html#actuator.endpoints"},"https://docs.spring.io/spring-boot/docs/3.0.5/reference/html/actuator.html#actuator.endpoints"))),(0,r.kt)("p",null,"\uadf8 \uc911, ",(0,r.kt)("inlineCode",{parentName:"p"},"/metrics")," endpoints\ub97c \uc0b4\ud3b4\ubcf4\uba74 \uc720\uc6a9\ud55c \uc9c0\ud45c(metric)\ub4e4\uc744 \ud655\uc778 \ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."),(0,r.kt)("p",null,(0,r.kt)("img",{src:n(1542).Z,width:"755",height:"1029"})),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"p"},"application.ready.time"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"p"},"jvm.threads.live"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"p"},"jvm.gc.memory.allocated"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"p"},"logback.events"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"p"},"process.cpu.usage")),(0,r.kt)("p",{parentName:"li"},"..."))),(0,r.kt)("p",null,"\uc9c1\uad00\uc801\uc778 \uc774\ub984\uc73c\ub85c \uc5b4\ub5a4 \uc815\ubcf4\ub97c \uc81c\uacf5\ud558\ub294\uc9c0 \ud30c\uc545\ud560 \uc218 \uc788\ub294, \ub2e4\uc591\ud55c \uba54\ud2b8\ub9ad\ub4e4\uc774 \uc81c\uacf5\ub429\ub2c8\ub2e4."),(0,r.kt)("p",null,"\uc608\uc2dc\ub85c, ",(0,r.kt)("inlineCode",{parentName:"p"},"process.cpu.usage")," \ub97c \ud655\uc778\ud558\uace0\uc790 \ud55c\ub2e4\uba74, endpoints\uc5d0 \ucd94\uac00\ud558\uc5ec \uc811\uadfc \ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"/api/actuator/metrics/process.cpu.usage")),(0,r.kt)("p",null,(0,r.kt)("img",{src:n(7798).Z,width:"755",height:"281"})),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"Spring Actuator"),"\ub294 \ub2e8\uc21c\ud55c \ub9e4\ud2b8\ub9ad \ubc0f \ud5ec\uc2a4 \uccb4\ud0b9 \ubfd0\ub9cc \uc544\ub2c8\ub77c\n",(0,r.kt)("a",{parentName:"p",href:"https://docs.spring.io/spring-boot/docs/3.0.5/reference/html/actuator.html#actuator.endpoints.info"},"\uc2e4\ud589\ub41c git \ube0c\ub79c\uce58\uc640 \ucee4\ubc0b, AutoConfiguration \uc815\ubcf4, Java, OS \ub4f1\uc758 \uc815\ubcf4"),",\n",(0,r.kt)("a",{parentName:"p",href:"https://docs.spring.io/spring-boot/docs/3.0.5/reference/html/actuator.html#actuator.loggers"},"\ub7f0\ud0c0\uc784 \uc911 Logging \ub808\ubca8 \ubcc0\uacbd")," \uc5ed\uc2dc \uac00\ub2a5\ud569\ub2c8\ub2e4."),(0,r.kt)("p",null,"\uc8fc\uc758\ud560 \uc810\uc740, application\uc5d0 \ub300\ud55c \ub2e4\uc591\ud55c \uc815\ubcf4\uac00 \uc81c\uacf5\ub418\uae30 \ub54c\ubb38\uc5d0 \ubcf4\uc548\uc801\uc73c\ub85c \uc2ec\uac01\ud55c \ubb38\uc81c\ub97c \uc57c\uae30 \ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4. \uc774\ubd80\ubd84\uc744 \ud574\uacb0\ud558\ub294 \ub0b4\uc6a9\uc740 \ucd94\ud6c4\uc5d0 \uc791\uc131\ud558\uaca0\uc2b5\ub2c8\ub2e4."),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"Spring actuator"),"\ub85c \uac04\ub2e8\ud558\uac8c \uc758\uc874\uc131\uc744 \ucd94\uac00\ud558\uace0 \uc57d\uac04\uc758 \uc124\uc815\uc73c\ub85c \ud544\uc694\ud55c \uba54\ud2b8\ub9ad\ub4e4\uc5d0 \ub300\ud574 \uce21\uc815\ud558\uace0 \ud655\uc778\ud560 \uc218 \uc788\uc5c8\uc2b5\ub2c8\ub2e4."),(0,r.kt)("p",null,"\ub2e4\uc74c\uc73c\ub85c\ub294 ",(0,r.kt)("inlineCode",{parentName:"p"},"Spring actuator"),"\ub85c\ubd80\ud130 \uc81c\uacf5\ubc1b\uc740 \uba54\ud2b8\ub9ad\ub4e4\uc744 \uc8fc\uae30\uc801\uc73c\ub85c \ud655\uc778\ud558\uace0 \uc800\uc7a5\ud558\uc5ec \uc720\uc758\ubbf8\ud558\uac8c \ud655\uc778\ud560 \uc218 \uc788\ub3c4\ub85d \uad6c\uc131\ud574\ubcf4\uaca0\uc2b5\ub2c8\ub2e4."),(0,r.kt)("br",null),(0,r.kt)("h2",{id:"prometheus"},"Prometheus"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"Spring Actuator")," \uacf5\uc2dd \ubb38\uc11c\uc758 ",(0,r.kt)("a",{parentName:"p",href:"https://docs.spring.io/spring-boot/docs/3.0.5/reference/html/actuator.html#actuator.metrics"},"Metrics \ucc55\ud130"),"\ub97c \ubcf4\uba74 ",(0,r.kt)("inlineCode",{parentName:"p"},"Micrometer"),"\uc5d0 \ub300\ud55c \uc885\uc18d\uc131 \uad00\ub9ac \ud639\uc740 \uc790\ub3d9 \uad6c\uc131\uc744 \uc81c\uacf5\ud55c\ub2e4\uace0 \ud569\ub2c8\ub2e4."),(0,r.kt)("p",null,"\uba3c\uc800 Micrometer\uc5d0 \ub300\ud574 \uac04\ub2e8\ud558\uac8c \uc9da\uace0 \ub118\uc5b4\uac00\uaca0\uc2b5\ub2c8\ub2e4."),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("a",{parentName:"strong",href:"https://micrometer.io/docs/concepts"},"Micrometer")),": Micrometer\ub294 JVM \uae30\ubc18 \uc560\ud50c\ub9ac\ucf00\uc774\uc158\uc744 \uc704\ud55c \uba54\ud2b8\ub9ad \uce21\uc815 \ub77c\uc774\ube0c\ub7ec\ub9ac\uc785\ub2c8\ub2e4. \ubaa8\ub2c8\ud130\ub9c1 \uc2dc\uc2a4\ud15c\uc6a9 \ud074\ub77c\uc774\uc5b8\ud2b8\uc5d0 \ub300\ud574 \ucd94\uc0c1\ud654\ub41c \ud30c\uc0ac\ub4dc\ub97c \uc81c\uacf5\ud558\uc5ec \ubca4\ub354(vender)\uc0ac\uc5d0 \uc885\uc18d\ub418\uc9c0 \uc54a\uace0 JVM \uae30\ubc18 \uc560\ud50c\ub9ac\ucf00\uc774\uc158 \ucf54\ub4dc\ub97c \uacc4\uce21\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4.")),(0,r.kt)("p",null,"\ub354 \uac04\ub2e8\ud558\uac8c \ub9d0\ud558\uba74, JVM\uc5d0\uc11c \uba54\ud2b8\ub9ad\uc744 \uce21\uc815\ud560 \uc218 \uc788\ub294 \uc77c\uc885\uc758 \uc778\ud130\ud398\uc774\uc2a4\ub77c\uace0 \uc774\ud574\ud558\uba74 \uc88b\uc744 \uac83 \uac19\uc2b5\ub2c8\ub2e4.(`",(0,r.kt)("inlineCode",{parentName:"p"},"Log"),"\uc758 ",(0,r.kt)("inlineCode",{parentName:"p"},"Slf4j"),"\uc640 \ube44\uc2b7\ud55c \uc5ed\ud560)"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"Micrometer"),"\ub97c \uc81c\uacf5\ud558\ub294 \ubca4\ub354\uc0ac\ub294 \ub2e4\uc591\ud558\uac8c \uc788\ub294\ub370\uc694. \ub300\ud45c\uc801\uc778 \uac83\ub4e4\uc740 \uc544\ub798\uc640 \uac19\uc2b5\ub2c8\ub2e4."),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Atlas"),(0,r.kt)("li",{parentName:"ul"},"Datadog"),(0,r.kt)("li",{parentName:"ul"},"Elastic"),(0,r.kt)("li",{parentName:"ul"},"Graphite"),(0,r.kt)("li",{parentName:"ul"},"Influx"),(0,r.kt)("li",{parentName:"ul"},"JMX"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Prometheus"))),(0,r.kt)("p",null,"\uadf8 \uc911 Prometheus\ub97c \uc0ac\uc6a9\ud558\uc5ec micrometer\ub97c \uc218\uc9d1\ud558\uace0 \uc9d1\uacc4\ud558\uace0\uc790 \ud569\ub2c8\ub2e4."),(0,r.kt)("p",null,"\uc0ac\uc6a9\ud55c \uc774\uc720\ub294 \ub2e4\uc74c\uacfc \uac19\uc2b5\ub2c8\ub2e4."),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Apache License 2.0\uac00 \uc0ac\uc6a9\ub41c \ubb34\ub8cc \uc18c\ud504\ud2b8\uc6e8\uc5b4\uc774\ub2e4."),(0,r.kt)("li",{parentName:"ul"},"PromQL\uc744 \ud1b5\ud574 \ud6a8\uc728\uc801\uc73c\ub85c \ub2e4\uc591\ud55c \uc2dc\uacc4\uc5f4 \uc120\ud0dd\ud558\uace0 \uc9d1\uacc4\ud560 \uc218 \uc788\ub2e4."),(0,r.kt)("li",{parentName:"ul"},"\uadf8\ub77c\ud30c\ub098\uc5d0\uc11c \uc2dc\uac01\ud654\ub97c \uc81c\uacf5\ud55c\ub2e4."),(0,r.kt)("li",{parentName:"ul"},"\uc0ac\uc6a9\uc790\uac00 \ub9ce\uc544 \ucc38\uace0\ud560 \uc790\ub8cc\uac00 \ub2e4\uc591\ud55c\ub2e4."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"Spring Actuator"),"\uc5d0\uc11c \uba54\ud2b8\ub9ad \uc815\ubcf4\ub97c \uc81c\uacf5\ud55c\ub2e4.")),(0,r.kt)("p",null,"\uadf8\ub7fc ",(0,r.kt)("inlineCode",{parentName:"p"},"Prometheus"),"\ub97c \ud1b5\ud574 \uba54\ud2b8\ub9ad \uc9d1\uacc4\ub97c \ud574\ubcf4\uaca0\uc2b5\ub2c8\ub2e4."),(0,r.kt)("h2",{id:"\uc900\ube44"},"\uc900\ube44"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"Prometheus"),"\uac00 metric\uc744 \ud3f4\ub9c1 \ud560 \uc218 \uc788\ub3c4\ub85d ",(0,r.kt)("inlineCode",{parentName:"p"},"/actuator/prometheus")," \uc5d4\ub4dc\ud3ec\uc778\ud2b8\ub97c \uc81c\uacf5\ud574\uc57c \ud569\ub2c8\ub2e4."),(0,r.kt)("p",null,"\uba3c\uc800 build.gradle\uc5d0 ",(0,r.kt)("inlineCode",{parentName:"p"},"prometheus")," \uc758\uc874\uc131\uc744 \ucd94\uac00\ud569\ub2c8\ub2e4."),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"build.gradle")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-groovy"},"implementation 'io.micrometer:micrometer-registry-prometheus'\n")),(0,r.kt)("p",null,"\uc774\ud6c4, ",(0,r.kt)("inlineCode",{parentName:"p"},"application.yml"),"\uc5d0\uc11c ",(0,r.kt)("inlineCode",{parentName:"p"},"exposure")," \uc124\uc815\uc744 \ubcc0\uacbd\ud569\ub2c8\ub2e4."),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"application.yml")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-yaml"},'management:\n  endpoints:\n    web:\n      exposure:\n        include: "prometheus"\n')),(0,r.kt)("p",null,"\uc798 \uc801\uc6a9\uc774 \ub418\uc5c8\ub294\uc9c0 ",(0,r.kt)("inlineCode",{parentName:"p"},"/actuator/prometheus")," \ub85c \uc811\uc18d\ud574 \ud655\uc778\ud574 \ubcfc \uc218 \uc788\uc2b5\ub2c8\ub2e4."),(0,r.kt)("p",null,(0,r.kt)("img",{src:n(4813).Z,width:"1072",height:"1029"})),(0,r.kt)("p",null,"\uc54c\uc544\ubcf4\uae34 \ud798\ub4e4\uc9c0\ub9cc, \uc798 \uc811\uc18d\ub418\ub294 \uac83\uc744 \ud655\uc778 \ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."),(0,r.kt)("p",null,"url\uacfc \ud0dc\uadf8\ub85c \uc81c\uacf5\ub418\ub294 \ubc29\uc2dd\uacfc \ub2ec\ub9ac, ",(0,r.kt)("inlineCode",{parentName:"p"},'executor_pool_max_threads{name="applicationTaskExecutor",} 2.147483647')," \uc640 \uac19\uc740 \ubb38\ubc95\uc73c\ub85c \uc81c\uacf5\ub418\ub294\ub370, \uc774\ub294 PromQL(Prometheus Query)\uc73c\ub85c ",(0,r.kt)("inlineCode",{parentName:"p"},"Prometheus"),"\uc758 \uba54\ud2b8\ub9ad \uc9c8\uc758 \uc5b8\uc5b4\uc785\ub2c8\ub2e4."),(0,r.kt)("p",null,"Prometheus\uc744 \ud1b5\ud574 meterics\ub97c polling\ud558\ub294\ub370 \ud544\uc694\ud55c \uc900\ube44\ub294 \ub05d\ub0ac\uc2b5\ub2c8\ub2e4!"),(0,r.kt)("h3",{id:"\uc124\uce58"},"\uc124\uce58"),(0,r.kt)("p",null,"\uba3c\uc800, celuveat\uc5d0\uc11c\ub294 docker\ub97c \uc0ac\uc6a9\ud558\uc5ec ",(0,r.kt)("inlineCode",{parentName:"p"},"Spring application"),"\uc744 \uc6b4\uc601\uc911\uc5d0 \uc788\uc2b5\ub2c8\ub2e4."),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"prometheus")," \uc5ed\uc2dc docker\ub97c \ud1b5\ud574 \uad00\ub9ac\ud558\ub3c4\ub85d \ud558\uaca0\uc2b5\ub2c8\ub2e4."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-yaml"},'# docker-compose-monitoring.yml\n\nversion: "3"\n\nservices:\n  prometheus:\n    image: prom/prometheus:latest\n    container_name: prometheus\n    ports:\n      - "9090:9090"\n')),(0,r.kt)("p",null,"\uae30\ubcf8\uc801\uc73c\ub85c, ",(0,r.kt)("inlineCode",{parentName:"p"},"promtheuse"),"\ub294 9090 \ud3ec\ud2b8\ub97c \uc0ac\uc6a9\ud558\uae30\uc5d0 9090 \ud3ec\ud2b8\ub97c \ubc14\uc778\ub529 \ud558\uc600\uc2b5\ub2c8\ub2e4."),(0,r.kt)("p",null,"volumes\ub294 \ucd94\ud6c4 \uc124\uba85\ud558\uaca0\uc2b5\ub2c8\ub2e4."),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"docker compose -f docker-compose-monitoring.yml up -d"),"\ub97c \ud1b5\ud574 \uc2e4\ud589\ud55c \ub4a4, 9090\ud3ec\ud2b8\uc5d0 \uc811\uadfc\ud558\uba74 \ub300\uc2dc\ubcf4\ub4dc\ub97c \ud655\uc778 \ud558\uc2e4 \uc218 \uc788\uc2b5\ub2c8\ub2e4."),(0,r.kt)("p",null,(0,r.kt)("img",{src:n(4798).Z,width:"1675",height:"1029"})),(0,r.kt)("h3",{id:"\uc124\uc815"},"\uc124\uc815"),(0,r.kt)("p",null,"\uc774\ud6c4 \uc0c1\ub2e8 \uba54\ub274 \ubc14\uc5d0\uc11c ",(0,r.kt)("inlineCode",{parentName:"p"},"Status")," -> ",(0,r.kt)("inlineCode",{parentName:"p"},"Targets"),"\ub97c \ud1b5\ud574 prometheus\uac00 polling \uc911\uc778 \ud0c0\uac9f\uc744 \ud655\uc778 \ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."),(0,r.kt)("p",null,(0,r.kt)("img",{src:n(325).Z,width:"1675",height:"404"})),(0,r.kt)("p",null,(0,r.kt)("img",{src:n(9055).Z,width:"1675",height:"404"})),(0,r.kt)("p",null,"\ud604\uc7ac \uc544\ubb34\ub7f0 \uc124\uc815\uc744 \ud558\uc9c0 \uc54a\uc558\uae30\uc5d0 ",(0,r.kt)("inlineCode",{parentName:"p"},"self"),"\ub85c metrics\ub97c ",(0,r.kt)("inlineCode",{parentName:"p"},"Scrape")," \ud558\ub294 \uac83\uc744 \ud655\uc778 \ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."),(0,r.kt)("p",null,"\uc774\ub7f0 \ud0c0\uac9f \uc124\uc815\uc740 ",(0,r.kt)("inlineCode",{parentName:"p"},"prometheus.yml"),"\uc5d0\uc11c \uc218\uc815\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4. \ud604\uc7ac \uc800\ub294 \ub3c4\ucee4 \ucee8\ud14c\uc774\ub108 \ub0b4\uc5d0\uc11c \ub3d9\uc791\uc911\uc774\ub2e4 \ubcf4\ub2c8, \uc678\ubd80\uc5d0 ",(0,r.kt)("inlineCode",{parentName:"p"},"prometheus.yml"),"\ud30c\uc77c\uc744 \uc791\uc131 \ud55c \ub4a4, \ubcfc\ub968 \ub9c8\uc6b4\ud2b8\ub97c \ud1b5\ud574 \uc124\uc815\ud558\ub3c4\ub85d \ud558\uaca0\uc2b5\ub2c8\ub2e4."),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"prometheus.yml")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-yaml"},'# prometheus.yml\n\nscrape_configs:\n  - job_name: "celuveatdev"\n    metrics_path: "/api/actuator/prometheus"\n    scrape_interval: 5s\n    static_configs:\n      - targets: ["localhost:8080"]\n')),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"metrics_path")," : metric \uacbd\ub85c \uc9c0\uc815"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"static_configs: - targets"),"\uc5d0\ub294 host\ub97c \uc9c0\uc815\ud569\ub2c8\ub2e4."),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"scrape_interval"),": \uc218\uc9d1 \uc8fc\uae30\ub97c \uc124\uc815\ud569\ub2c8\ub2e4."),(0,r.kt)("p",null,"\uc774\ud6c4 ",(0,r.kt)("inlineCode",{parentName:"p"},"docker-compose-monitoring.yml")," \uc744 \uc218\uc815\ud558\uc5ec \ubcfc\ub968 \ub9c8\uc6b4\ud2b8 \uc124\uc815\uc744 \ud569\ub2c8\ub2e4."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-yaml"},'# docker-compose-monitoring.yml\n\nversion: "3"\n\nservices:\n  prometheus:\n    image: prom/prometheus:latest\n    container_name: prometheus\n    ports:\n      - "9090:9090"\n    volumes:\n      - ./prometheus.yml:/etc/prometheus/prometheus.yml\n')),(0,r.kt)("p",null,"`",(0,r.kt)("inlineCode",{parentName:"p"},"./prometheus.yml"),"\ub294 host\uc5d0\uc11c\uc758 \uacbd\ub85c, ",(0,r.kt)("inlineCode",{parentName:"p"},"/etc/prometheus/prometheus.yml"),"\ub294 docker container\ub0b4\ubd80\uc758 \uacbd\ub85c\uc785\ub2c8\ub2e4."),(0,r.kt)("p",null,"\uc774\ud6c4 \ub2e4\uc2dc docker\ub97c \uc2e4\ud589\ud558\uba74 \uc6d0\ud558\ub294 \ud0c0\uac9f\uc774 \uc124\uc815\ub41c \uac83\uc744 \ud655\uc778 \ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."),(0,r.kt)("p",null,(0,r.kt)("img",{src:n(214).Z,width:"1675",height:"404"})),(0,r.kt)("p",null,"\uc608\uc2dc\ub85c \ub4e4\uc5c8\ub358 PrmoQL\uc778 ",(0,r.kt)("inlineCode",{parentName:"p"},'executor_pool_max_threads{name="applicationTaskExecutor",}'),"\uc744 \uba54\uc778 \ud398\uc774\uc9c0\uc5d0\uc11c \uc2e4\ud589\ud558\uba74\n",(0,r.kt)("img",{src:n(1745).Z,width:"1675",height:"404"})),(0,r.kt)("p",null,"\uc6d0\ud558\ub294 \uba54\ud2b8\ub9ad \uc815\ubcf4\ub97c \uc5bb\uc744 \uc218 \uc788\uc2b5\ub2c8\ub2e4!"),(0,r.kt)("p",null,"\ub354 \ub2e4\uc591\ud55c PromQL\uc744 \ud1b5\ud574 \ub2e4\uc591\ud55c \uc9c0\ud45c\ub4e4\uc744 Table \ubfd0\ub9cc \uc544\ub2c8\ub77c ",(0,r.kt)("inlineCode",{parentName:"p"},"Graph"),"\ub85c\ub3c4 \ud655\uc778 \ud558\uc2e4 \uc218 \uc788\uc2b5\ub2c8\ub2e4."),(0,r.kt)("h2",{id:"grafana"},"Grafana"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"Prometheus"),"\ub97c \ud1b5\ud574 \uc8fc\uae30\uc801\uc73c\ub85c \uba54\ud2b8\ub9ad\uc744 \uc218\uc9d1 \ud560 \uc218 \uc788\uc9c0\ub9cc, \ud655\uc778\ud558\uae30\uc5d4 \uc5b4\ub824\uc6c0\uc774 \uc788\uc2b5\ub2c8\ub2e4."),(0,r.kt)("p",null,"\ub9e4\ubc88 PromQL\uc744 \ud1b5\ud574 \uc6d0\ud558\ub294 \uc9c0\ud45c\ub97c \uc9c8\uc758\ud574\uc57c \ud558\uace0, \uc2dc\uac01\ud654\ub41c \uc790\ub8cc \ub610\ud55c \uadf8\ub798\ud504 \ud558\ub098\uac00 \uc804\ubd80\uc774\uae30 \ub54c\ubb38\uc5d0 \ubd88\ud3b8\ud568\uc774 \uc874\uc7ac\ud569\ub2c8\ub2e4."),(0,r.kt)("p",null,"\uadf8\ub798\uc11c ",(0,r.kt)("inlineCode",{parentName:"p"},"Prometheus"),"\uc5d0\uc11c \uc218\uc9d1\ud55c \uba54\ud2b8\ub9ad\uc744 \uc720\uc6a9\ud558\uac8c \uc2dc\uac01\ud654 \ud560 \uc218 \uc788\ub294 \uc2dc\uac01\ud654 \ub3c4\uad6c\ub85c\uc11c ",(0,r.kt)("inlineCode",{parentName:"p"},"Grafana"),"\ub97c \uc0ac\uc6a9\ud558\ub824 \ud569\ub2c8\ub2e4."),(0,r.kt)("h3",{id:"\uc124\uce58-1"},"\uc124\uce58"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"Grafana")," \uc5ed\uc2dc \ub3c4\ucee4\ub85c \uad6c\uc131\ud558\uace0\uc790 \ud569\ub2c8\ub2e4."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-yaml"},'# docker-compose-monitoring.yml\n\nversion: \'3\'\n\nservices:\n  prometheus:\n    image: prom/prometheus:latest\n    container_name: prometheus\n    ports:\n      - "9090:9090"\n    volumes:\n       - ./prometheus.yml:/etc/prometheus/prometheus.yml\n\n# \ucd94\uac00\n    grafana:\n    image: grafana/grafana:latest\n    container_name: grafana\n    user: "$UID:$GID"\n    ports:\n      - "3000:3000"\n    volumes:\n      - ./grafana-data:/var/lib/grafana\n    depends_on:\n      - prometheus\n')),(0,r.kt)("p",null,"grafana\ub294 \uae30\ubcf8\uc801\uc73c\ub85c 3000\ud3ec\ud2b8\ub97c \uc0ac\uc6a9\ud569\ub2c8\ub2e4."),(0,r.kt)("p",null,"\ub610, prometheus\ub97c datasource\ub85c \ucd94\uac00\ud560 \uc608\uc815\uc774\ub2e4 \ubcf4\ub2c8, depends_on \uc635\uc158\uc73c\ub85c prometheus \ucee8\ud14c\uc774\ub108\uac00 \uc120\ud589\ub418\ub3c4\ub85d \uc124\uc815\ud558\uc600\uc2b5\ub2c8\ub2e4."),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},(0,r.kt)("strong",{parentName:"p"},"volumes\ub97c \uaf2d \uc124\uc815\ud558\uc154\uc57c \ud569\ub2c8\ub2e4!")," \ub3c4\ucee4 \ucee8\ud14c\uc774\ub108\uac00 \ub0b4\ub824\uac00\ub3c4 Grafana\uc5d0\uc11c \uc124\uc815\ud55c \ub300\uc2dc\ubcf4\ub4dc\ub098 \ub370\uc774\ud130 \uc18c\uc2a4\uac00 \uc0ac\ub77c\uc9c0\uc9c0 \uc54a\ub3c4\ub85d \ud574\uc57c\ud569\ub2c8\ub2e4."),(0,r.kt)("p",{parentName:"blockquote"},"\uc774\ub54c, grafana image\ub0b4 ",(0,r.kt)("inlineCode",{parentName:"p"},"/var/lib/grafana"),"\uc758 \uc4f0\uae30 \uc791\uc5c5\uc744 \uc704\ud574 ",(0,r.kt)("inlineCode",{parentName:"p"},'user: "$UID:$GID"'),"\ub97c \uc124\uc815\ud574\uc57c \ud569\ub2c8\ub2e4."),(0,r.kt)("p",{parentName:"blockquote"},"\uc800\ub3c4 \uc54c\uace0 \uc2f6\uc9c0 \uc54a\uc558\uc2b5\ub2c8\ub2e4.")),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"docker compose -f docker-compose-monitoring.yml up -d")," \ub97c \ud1b5\ud574 \uc2e4\ud589 \ud55c \ub4a4,"),(0,r.kt)("p",null,"3000\ud3ec\ud2b8\ub85c \uc811\uc18d\ud558\uba74 \ub2e4\uc74c\uacfc \uac19\uc740 \ud654\uba74\uc774 \ub098\uc635\ub2c8\ub2e4."),(0,r.kt)("p",null,(0,r.kt)("img",{src:n(2301).Z,width:"1675",height:"1029"})),(0,r.kt)("p",null,'\ucd08\uae30 \uacc4\uc815\uacfc \ube44\ubc00\ubc88\ud638\ub294 \ubaa8\ub450 "admin" \uc785\ub2c8\ub2e4.'),(0,r.kt)("p",null,"\ucd5c\ucd08 \ub85c\uadf8\uc778 \uc2dc, \ube44\ubc00\ubc88\ud638\ub97c \ubcc0\uacbd \ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."),(0,r.kt)("p",null,"\ub85c\uadf8\uc778 \ud6c4 Administration -> Data soureces\uc5d0 \ub4e4\uc5b4\uc640\uc11c prometheus\ub97c \ub4f1\ub85d\ud569\ub2c8\ub2e4."),(0,r.kt)("p",null,(0,r.kt)("img",{src:n(7301).Z,width:"1675",height:"1029"})),(0,r.kt)("p",null,"\uc774\ud6c4 prometheus\ub97c \uc811\uc18d\ud588\ub358 url\uc744 \uc124\uc815\ud574\uc90d\ub2c8\ub2e4."),(0,r.kt)("p",null,(0,r.kt)("img",{src:n(1465).Z,width:"1675",height:"1029"})),(0,r.kt)("p",null,"Data sources \uc5d0\uc11c \ucd94\uac00\ub41c \uac78 \ud655\uc778\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."),(0,r.kt)("p",null,"\uc774\uc81c ",(0,r.kt)("a",{parentName:"p",href:"https://grafana.com/grafana/dashboards"},"Grafana Labs"),"\uc5d0 \uac00\uc11c \ub2e4\uc591\ud55c Dashboards\ub97c \ud0d0\uc0c9\ud558\uace0 \uc120\ud0dd\ud558\uc5ec \uc801\uc6a9\ud558\uba74 \ub429\ub2c8\ub2e4."),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"Spring boot"),"\ub85c \uac80\uc0c9\ud55c \ub4a4, ",(0,r.kt)("inlineCode",{parentName:"p"},"Spring boot 2.1 System Monitor"),"\ub97c \uc120\ud0dd\ud569\ub2c8\ub2e4."),(0,r.kt)("p",null,(0,r.kt)("img",{src:n(6945).Z,width:"1675",height:"1029"})),(0,r.kt)("br",null),(0,r.kt)("p",null,"\ud574\ub2f9 \ub300\uc26c\ubcf4\ub4dc\uc758 ID\ub97c \ubcf5\uc0ac \ud55c \ub4a4,\n",(0,r.kt)("img",{src:n(9842).Z,width:"1675",height:"1029"})),(0,r.kt)("br",null),(0,r.kt)("p",null,"\uc544\ub798 Import \ub300\uc26c\ubcf4\ub4dc\ub97c \uc120\ud0dd\ud569\ub2c8\ub2e4."),(0,r.kt)("p",null,"\uadf8 \ud6c4 \ubcf5\uc0ac\ud55c ID\ub97c \uc785\ub825\ud558\uba74,"),(0,r.kt)("p",null,(0,r.kt)("img",{src:n(3370).Z,width:"1675",height:"1029"})),(0,r.kt)("p",null,"Spring Boot 2.1 System Monitor \uac00 \ubd88\ub7ec\uc640\uc9c0\ub294 \uac83\uc744 \uc54c \uc218 \uc788\uc2b5\ub2c8\ub2e4.\n",(0,r.kt)("img",{src:n(7671).Z,width:"1675",height:"1029"})),(0,r.kt)("p",null,"DataSource\ub3c4 \ub4f1\ub85d\ud558\uc5ec \ucd94\uac00\ud558\uba74 \uc544\ub798\uc640 \uac19\uc774 \ub300\uc26c\ubcf4\ub4dc\ub97c \ud655\uc778 \ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."),(0,r.kt)("p",null,(0,r.kt)("img",{src:n(8017).Z,width:"1675",height:"1029"})),(0,r.kt)("p",null,(0,r.kt)("img",{src:n(9087).Z,width:"1675",height:"1029"})),(0,r.kt)("p",null,"\uc544\ub798 \uba54\ud2b8\ub9ad\uc744 \ud655\uc778\ud558\ub2e4 \ubcf4\uba74 ",(0,r.kt)("inlineCode",{parentName:"p"},"Jetty Statistics"),"\ub97c \ud655\uc778\ud560 \uc218 \uc788\ub294\ub370\uc694.\n",(0,r.kt)("img",{src:n(1816).Z,width:"1675",height:"1029"})),(0,r.kt)("p",null,"Spring boot \uc5d0\uc11c \uc0ac\uc6a9\ud558\uace0 \uc788\ub294 tomcat was \uba54\ud2b8\ub9ad\uc73c\ub85c \ubcc0\uacbd\uc774 \ud544\uc694\ud574 \ubcf4\uc785\ub2c8\ub2e4."),(0,r.kt)("p",null,"\ub2e4\uc2dc ",(0,r.kt)("inlineCode",{parentName:"p"},"application"),"\uc73c\ub85c \ub3cc\uc544\uc640\uc11c ",(0,r.kt)("inlineCode",{parentName:"p"},"application.yml"),"\uc5d0 \uc544\ub798 \uc635\uc158\uc744 \ucd94\uac00\ud569\ub2c8\ub2e4."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-yaml"},"# application.yml\nserver:\n  tomcat:\n    mbeanregistry:\n      enabled: true\n")),(0,r.kt)("p",null,"\uc774\ud6c4 Dashboard settings\uc5d0\uc11c \uc218\uc815\ud560 \uc218 \uc788\ub3c4\ub85d \uc124\uc815\uc744 \ud569\ub2c8\ub2e4.\n",(0,r.kt)("img",{src:n(7678).Z,width:"1675",height:"987"})),(0,r.kt)("p",null,"\uc774\ud6c4 Query\uc758 \uc774\ub984\uc744 ",(0,r.kt)("inlineCode",{parentName:"p"},"tomcat_threads_config_max_threads"),"\ub85c \ubcc0\uacbd\ud569\ub2c8\ub2e4."),(0,r.kt)("p",null,(0,r.kt)("img",{src:n(6014).Z,width:"1675",height:"987"}),"\n",(0,r.kt)("img",{src:n(3412).Z,width:"1675",height:"987"})),(0,r.kt)("p",null,(0,r.kt)("img",{src:n(680).Z,width:"1675",height:"987"})),(0,r.kt)("h2",{id:"\uc815\ub9ac"},"\uc815\ub9ac"),(0,r.kt)("p",null,"\ubaa8\ub2c8\ud130\ub9c1\uc774 \uc774\ub8e8\uc5b4\uc9c0\ub294 \uacfc\uc815\uc744 \ub2e4\uc2dc \uc815\ub9ac\ud574\ubcf4\uaca0\uc2b5\ub2c8\ub2e4."),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"Sping actuator"),"\uc5d0\uc11c \uc81c\uacf5\ud558\ub294 metrics\ub97c ",(0,r.kt)("inlineCode",{parentName:"p"},"Micrometer")," \ub97c \uad6c\ud604\ud55c prometheus\uc5d0\uac8c \uc81c\uacf5\ud558\uace0, prometheus\ub294 \uc8fc\uae30\uc801\uc73c\ub85c \uc9c0\ud45c\ub4e4\uc744 \ubaa8\uc544 \uc800\uc7a5\ud569\ub2c8\ub2e4."),(0,r.kt)("p",null,"\uc774\ub7f0 prometheus\uc5d0 \uc800\uc7a5\ub418\uc5b4 \uc788\ub294 \ub370\uc774\ud130\ub97c \uc2dc\uac01\ud654 \ud234\uc778 ",(0,r.kt)("inlineCode",{parentName:"p"},"Grafana"),"\ub97c \uc0ac\uc6a9\ud558\uc5ec \ub300\uc2dc\ubcf4\ub4dc\ub97c \uad6c\uc131\ud558\uc5ec \ubaa8\ub2c8\ud130\ub9c1 \ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."),(0,r.kt)("p",null,"\uac04\ub2e8\ud558\uac8c \uc544\ub798\uc640 \uac19\uc740 \uad6c\uc131\uc774 \uac16\ucd94\uc5b4 \uc9d1\ub2c8\ub2e4."),(0,r.kt)("p",null,(0,r.kt)("img",{parentName:"p",src:"https://velog.velcdn.com/images/roycewon/post/6587d618-293b-442a-baf2-e225d0b3b2a8/image.png",alt:null})))}u.isMDXComponent=!0},6314:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/1-1-1-9b540b22f90700bb5ee68f8b7473a49f.jpeg"},325:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/12-12-12-39cf518326c6b7187c68c912ee10e624.jpeg"},9055:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/13-13-13-d0bf589592e6fd86a4a23472410af883.jpeg"},214:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/14-14-14-aba62d495eb69958da476cf216db6a8d.jpeg"},1745:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/15-15-15-e85bf54c5482bc14d81f2c9041a32140.jpeg"},2301:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/16-16-16-60885e8aca9e1abc5db56e507376ff21.jpeg"},7301:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/17-17-17-48ef5424d746b8a19feb54d8700cc3e9.jpeg"},1465:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/18-18-18-0af8d5cbcbec876ffca7f23c78cc27ee.jpeg"},9095:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/2-2-2-66787d2742fadfedbf0c39a89f7383de.jpeg"},6945:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/20-20-20-9b0ea6badb29100579c672296f8658cb.jpeg"},9842:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/21-21-21-394e93993619bf12bdad733673695d27.jpeg"},3370:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/22-22-22-e6bc67d49d67eabb91c47bee7172dbe1.jpeg"},7671:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/23-23-23-1fec99ae7bfe4169c9431513f530e411.jpeg"},8017:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/24-24-24-3fd246cccec218d83545328f1a8398b9.jpeg"},9087:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/25-25-25-efca42fb17b4534d63af1062107af6c9.jpeg"},1816:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/26-26-26-bfa6e4d71940f3648fee2d5923d5fe8d.jpeg"},7678:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/27-27-27-cccf31762a0f413cf02494d9cc58aef3.jpeg"},6014:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/28-28-28-cccf31762a0f413cf02494d9cc58aef3.jpeg"},3412:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/29-29-29-5cad950b276c64c66f88f7fce4542c58.jpeg"},5537:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/3-3-3-0a0a282ee86fd489e79d86153bb2a1b6.jpeg"},680:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/30-30-30-662f9b5763928a9dbdca3abb55b572a6.jpeg"},477:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/4-4-4-ff454dc511b7ee12ebf6e60eab98e228.jpeg"},1542:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/6-6-6-c25d3bb929ee11f60a15b2649b63cc21.jpeg"},7798:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/7-7-7-2a99ec305c0f86afefd494d312c04d6c.jpeg"},4813:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/8-8-8-451d63e63731f536b663644d04078e2a.jpeg"},4798:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/9-9-9-c736a67b13fb84876f5ac0d5f1dad81d.jpeg"}}]);