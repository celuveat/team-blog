"use strict";(self.webpackChunkceluveat_team_blog=self.webpackChunkceluveat_team_blog||[]).push([[1667],{3905:(e,n,l)=>{l.d(n,{Zo:()=>s,kt:()=>b});var t=l(7294);function a(e,n,l){return n in e?Object.defineProperty(e,n,{value:l,enumerable:!0,configurable:!0,writable:!0}):e[n]=l,e}function r(e,n){var l=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),l.push.apply(l,t)}return l}function u(e){for(var n=1;n<arguments.length;n++){var l=null!=arguments[n]?arguments[n]:{};n%2?r(Object(l),!0).forEach((function(n){a(e,n,l[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(l)):r(Object(l)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(l,n))}))}return e}function k(e,n){if(null==e)return{};var l,t,a=function(e,n){if(null==e)return{};var l,t,a={},r=Object.keys(e);for(t=0;t<r.length;t++)l=r[t],n.indexOf(l)>=0||(a[l]=e[l]);return a}(e,n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(t=0;t<r.length;t++)l=r[t],n.indexOf(l)>=0||Object.prototype.propertyIsEnumerable.call(e,l)&&(a[l]=e[l])}return a}var c=t.createContext({}),o=function(e){var n=t.useContext(c),l=n;return e&&(l="function"==typeof e?e(n):u(u({},n),e)),l},s=function(e){var n=o(e.components);return t.createElement(c.Provider,{value:n},e.children)},d="mdxType",p={inlineCode:"code",wrapper:function(e){var n=e.children;return t.createElement(t.Fragment,{},n)}},i=t.forwardRef((function(e,n){var l=e.components,a=e.mdxType,r=e.originalType,c=e.parentName,s=k(e,["components","mdxType","originalType","parentName"]),d=o(l),i=a,b=d["".concat(c,".").concat(i)]||d[i]||p[i]||r;return l?t.createElement(b,u(u({ref:n},s),{},{components:l})):t.createElement(b,u({ref:n},s))}));function b(e,n){var l=arguments,a=n&&n.mdxType;if("string"==typeof e||a){var r=l.length,u=new Array(r);u[0]=i;var k={};for(var c in n)hasOwnProperty.call(n,c)&&(k[c]=n[c]);k.originalType=e,k[d]="string"==typeof e?e:a,u[1]=k;for(var o=2;o<r;o++)u[o]=l[o];return t.createElement.apply(null,u)}return t.createElement.apply(null,l)}i.displayName="MDXCreateElement"},7482:(e,n,l)=>{l.r(n),l.d(n,{assets:()=>c,contentTitle:()=>u,default:()=>p,frontMatter:()=>r,metadata:()=>k,toc:()=>o});var t=l(7462),a=(l(7294),l(3905));const r={date:new Date("2023-08-07T00:00:00.000Z"),authors:"shin-mallang",title:"\uc140\ub7fd\uc787 CI/CD \ubc1c\uc804\uae30 - (3) docker\uc640 github actions\ub97c \ud1b5\ud55c \ubc30\ud3ec \uc790\ub3d9\ud654",description:"\uc140\ub7fd\uc787 \ud300\uc758 CI/CD \ubc1c\uc804\uae30",keywords:["CI/CD","\uc778\ud504\ub77c"],tags:["CI/CD","\uc778\ud504\ub77c","Github Actions","docker"]},u=void 0,k={permalink:"/team-blog/back-blog/mallang/cicd-series/cicd-3/cicd3",source:"@site/@backBlog/mallang/cicd-series/cicd-3/cicd3.mdx",title:"\uc140\ub7fd\uc787 CI/CD \ubc1c\uc804\uae30 - (3) docker\uc640 github actions\ub97c \ud1b5\ud55c \ubc30\ud3ec \uc790\ub3d9\ud654",description:"\uc140\ub7fd\uc787 \ud300\uc758 CI/CD \ubc1c\uc804\uae30",date:"2023-08-07T00:00:00.000Z",formattedDate:"2023\ub144 8\uc6d4 7\uc77c",tags:[{label:"CI/CD",permalink:"/team-blog/back-blog/tags/ci-cd"},{label:"\uc778\ud504\ub77c",permalink:"/team-blog/back-blog/tags/\uc778\ud504\ub77c"},{label:"Github Actions",permalink:"/team-blog/back-blog/tags/github-actions"},{label:"docker",permalink:"/team-blog/back-blog/tags/docker"}],readingTime:33.435,hasTruncateMarker:!0,authors:[{name:"donghun Shin",url:"https://github.com/shin-mallang",email:"huipulci1@naver.com",imageURL:"https://avatars.githubusercontent.com/u/52229930?v=4",key:"shin-mallang"}],frontMatter:{date:"2023-08-07T00:00:00.000Z",authors:"shin-mallang",title:"\uc140\ub7fd\uc787 CI/CD \ubc1c\uc804\uae30 - (3) docker\uc640 github actions\ub97c \ud1b5\ud55c \ubc30\ud3ec \uc790\ub3d9\ud654",description:"\uc140\ub7fd\uc787 \ud300\uc758 CI/CD \ubc1c\uc804\uae30",keywords:["CI/CD","\uc778\ud504\ub77c"],tags:["CI/CD","\uc778\ud504\ub77c","Github Actions","docker"]},nextItem:{title:"Submodule \ub3c4\uc785\ud558\uae30",permalink:"/team-blog/back-blog/royce/submodule/submodule"}},c={authorsImageUrls:[void 0]},o=[{value:"\ud83e\uddd0 \uc11c\ub860",id:"-\uc11c\ub860",level:2},{value:"\ud83e\uddd0 \ud574\uacb0 \ubc29\ubc95 \uc0dd\uac01\ud558\uae30",id:"-\ud574\uacb0-\ubc29\ubc95-\uc0dd\uac01\ud558\uae30",level:2},{value:"\ud83e\uddd0 \ucd94\uac00\uc801\uc778 \ubd88\ud3b8 \uc0ac\ud56d",id:"-\ucd94\uac00\uc801\uc778-\ubd88\ud3b8-\uc0ac\ud56d",level:2},{value:"\ud83e\uddd0 Docker\ub97c \uc0ac\uc6a9\ud55c CD \uc544\ud0a4\ud14d\ucc98",id:"-docker\ub97c-\uc0ac\uc6a9\ud55c-cd-\uc544\ud0a4\ud14d\ucc98",level:2},{value:"\ud83d\ude80 Dockerfile\uc774 \ubb54\uac00\uc694?",id:"-dockerfile\uc774-\ubb54\uac00\uc694",level:3},{value:"\ud83d\ude80 Docker Image\ub294 \ubb54\uac00\uc694?",id:"-docker-image\ub294-\ubb54\uac00\uc694",level:3},{value:"\ud83d\ude80 Docker Container\ub294 \ubb54\uac00\uc694?",id:"-docker-container\ub294-\ubb54\uac00\uc694",level:3},{value:"\ud83e\uddd0 \ubc31\uc5d4\ub4dc CD \ud50c\ub85c\uc6b0\ub97c \ub85c\uceec\uc5d0\uc11c \uc2e4\ud589\ud574\ubcf4\uae30",id:"-\ubc31\uc5d4\ub4dc-cd-\ud50c\ub85c\uc6b0\ub97c-\ub85c\uceec\uc5d0\uc11c-\uc2e4\ud589\ud574\ubcf4\uae30",level:2},{value:"\ud83d\ude80 Dockerfile \uc791\uc131\ud558\uae30",id:"-dockerfile-\uc791\uc131\ud558\uae30",level:3},{value:"\ud83d\ude80 Dockerfile\uc744 \ud1b5\ud574 Docker Image \ube4c\ub4dc\ud558\uae30",id:"-dockerfile\uc744-\ud1b5\ud574-docker-image-\ube4c\ub4dc\ud558\uae30",level:3},{value:"\ud83d\ude80 DockerImage Local\uc5d0\uc11c \uc2e4\ud589\ud574\ubcf4\uae30",id:"-dockerimage-local\uc5d0\uc11c-\uc2e4\ud589\ud574\ubcf4\uae30",level:3},{value:"\ud83d\ude80DockerHub\uc5d0 Docker Image Push\ud558\uae30",id:"dockerhub\uc5d0-docker-image-push\ud558\uae30",level:3},{value:"\ud83d\ude80 EC2\uc5d0\uc11c Image\ub97c Pull \ubc1b\uc544 \uc2e4\ud589\ud574\ubcf4\uae30",id:"-ec2\uc5d0\uc11c-image\ub97c-pull-\ubc1b\uc544-\uc2e4\ud589\ud574\ubcf4\uae30",level:3},{value:"\ud83e\uddd0 \ubc31\uc5d4\ub4dc CD workflow \uc791\uc131\ud558\uae30",id:"-\ubc31\uc5d4\ub4dc-cd-workflow-\uc791\uc131\ud558\uae30",level:2},{value:"\ud83e\uddd0 \ud504\ub860\ud2b8\uc5d4\ub4dc Dockerfile \uc791\uc131\ud558\uae30",id:"-\ud504\ub860\ud2b8\uc5d4\ub4dc-dockerfile-\uc791\uc131\ud558\uae30",level:2},{value:"\ud83e\uddd0 \ud504\ub860\ud2b8\uc5d4\ub4dc CD workflow \uc791\uc131\ud558\uae30",id:"-\ud504\ub860\ud2b8\uc5d4\ub4dc-cd-workflow-\uc791\uc131\ud558\uae30",level:2},{value:"\ud83e\uddd0Gradle Caching\uc744 \ud1b5\ud55c \uc18d\ub3c4 \ud5a5\uc0c1",id:"gradle-caching\uc744-\ud1b5\ud55c-\uc18d\ub3c4-\ud5a5\uc0c1",level:2},{value:"\ud83d\ude80 Gradle Caching\uc774\ub780?",id:"-gradle-caching\uc774\ub780",level:3},{value:"\uccab \uc2e4\ud589",id:"\uccab-\uc2e4\ud589",level:4},{value:"\uc774\ud6c4 \uc2e4\ud589",id:"\uc774\ud6c4-\uc2e4\ud589",level:4}],s={toc:o},d="wrapper";function p(e){let{components:n,...r}=e;return(0,a.kt)(d,(0,t.Z)({},s,r,{components:n,mdxType:"MDXLayout"}),(0,a.kt)("p",null,"\uc140\ub7fd\uc787 CI/CD \ubc1c\uc804\uae30 - (3) docker\uc640 github actions\ub97c \ud1b5\ud55c \ubc30\ud3ec \uc790\ub3d9\ud654"),(0,a.kt)("br",null),(0,a.kt)("br",null),(0,a.kt)("br",null),(0,a.kt)("h2",{id:"-\uc11c\ub860"},"\ud83e\uddd0 \uc11c\ub860"),(0,a.kt)("p",null,"\uc548\ub155\ud558\uc138\uc694. \uc140\ub7fd\uc787\uc758 \ubc31\uc5d4\ub4dc \ub9d0\ub791\uc785\ub2c8\ub2e4."),(0,a.kt)("p",null,"\ub2e4\ub978 \ud300\ub4e4\uacfc \ub9c8\ucc2c\uac00\uc9c0\ub85c \uc140\ub7fd\uc787 \ud300\ub3c4 \uc9c0\ub09c\uc8fc\uc5d0 \uc2e4\uc81c \uc11c\ubc84\uc5d0 \ubc30\ud3ec\ud558\ub294 \uacfc\uc815\uc744 \uc9c4\ud589\ud588\ub294\ub370\uc694, \uadf8 \uacfc\uc815\uc5d0\uc11c \uc11c\ubc84\uac00 \uac70\uc758 \uc8fd\uc5b4\uac00\ub294 \uc0c1\ud669\uc774 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4 \ud83d\ude22"),(0,a.kt)("p",null,(0,a.kt)("img",{alt:"front",src:l(8691).Z,width:"1020",height:"54"})),(0,a.kt)("p",null,"\uadf8 \ub2f9\uc2dc \uc11c\ubc84\uc758 \uc5ec\uc720 \uba54\ubaa8\ub9ac\ub97c \ud655\uc778\ud574\ubcf4\ub2c8 \uc774\ubbf8 ",(0,a.kt)("inlineCode",{parentName:"p"},"Swap Memory"),"\ub97c ",(0,a.kt)("inlineCode",{parentName:"p"},"2GB")," \uc4f0\uace0 \uc788\ub294 \uc0c1\ud669\uc774\uc5c8\uc74c\uc5d0\ub3c4 ",(0,a.kt)("inlineCode",{parentName:"p"},"20~50mb")," \uc815\ub3c4\ubc16\uc5d0 \ub0a8\uc9c0 \uc54a\uc558\uc2b5\ub2c8\ub2e4."),(0,a.kt)("p",null,"\uc774 \ubb38\uc81c\ub294 \uc77c\uc2dc\uc801\uc73c\ub85c \ubc1c\uc0dd\ud588\uc5b4\uc11c \uc9c0\uae08 \ub2e4\uc2dc \uc2e4\ud589\ud574\ubcf4\uba74 \ucd5c\uc18c 500Mb \uc815\ub3c4\uc758 \uc5ec\uc720 \uba54\ubaa8\ub9ac\uac00 \ub0a8\uac8c \ub418\ub294\ub370\uc694, ",(0,a.kt)("br",null),"\n\uc9c0\uae08 \ub2f9\uc7a5\uc740 \ubb38\uc81c\uac00 \ub418\uc9c0 \uc54a\ub354\ub77c\ub3c4 \uc5b8\uc820\uac00\ub294 \ubb38\uc81c\uac00 \ub420 \uc218 \uc788\uae30 \ub54c\ubb38\uc5d0 \uc774\ub97c \ud574\uacb0\ud574\ubcf4\ub824 \ud569\ub2c8\ub2e4."),(0,a.kt)("br",null),(0,a.kt)("br",null),(0,a.kt)("br",null),(0,a.kt)("br",null),(0,a.kt)("br",null),(0,a.kt)("h2",{id:"-\ud574\uacb0-\ubc29\ubc95-\uc0dd\uac01\ud558\uae30"},"\ud83e\uddd0 \ud574\uacb0 \ubc29\ubc95 \uc0dd\uac01\ud558\uae30"),(0,a.kt)("p",null,"\uac00\uc7a5 \uac04\ub2e8\ud788 \uc0dd\uac01\ud560 \uc218 \uc788\ub294 \ubc29\ubc95\uc73c\ub85c\ub294 ",(0,a.kt)("inlineCode",{parentName:"p"},"Swap Memory"),"\ub97c \ub354 \ub9ce\uc774 \ud560\ub2f9\ud558\ub294 \uac83\uc785\ub2c8\ub2e4."),(0,a.kt)("p",null,"\ub2e4\uc74c ",(0,a.kt)("a",{parentName:"p",href:"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html/managing_storage_devices/getting-started-with-swap_managing-storage-devices#recommended-system-swap-space_getting-started-with-swap"},"RedHat\uc758 \ubb38\uc11c"),"\uc5d0 \ub530\ub77c\n\uc11c\ubc84\uc758 RAM\uc774 2GiB\uc778 \uc800\ud76c\ub294 2\ubc30\uc778 4GB \uc815\ub3c4\ub97c \ud560\ub2f9\ud558\ub294 \uac83\uc73c\ub85c \uac00\uc7a5 \ubb34\ub09c\ud558\uac8c \ubb38\uc81c\ub97c \ud574\uacb0\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4.",(0,a.kt)("br",null),"\n\uc2a4\ud1a0\ub9ac\uc9c0 \uc6a9\ub7c9\ub3c4 20GB\ub97c \ud560\ub2f9\ud558\uc5ec \uc0ac\uc6a9\ud558\uace0 \uc788\uc73c\ubbc0\ub85c, 4GB\uc758 Swap Memory\ub85c \uc778\ud574 \ubb38\uc81c\uac00 \uc0dd\uae38 \uac83\uc774\ub77c\uace0\ub294 \ud310\ub2e8\ub418\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4."),(0,a.kt)("p",null,"\uc704 \ubc29\ubc95\uc73c\ub85c \ud574\uacb0\ud558\ub294 \uac83\uc774 \uac00\uc7a5 \uac04\ub2e8\ud558\uaca0\uc9c0\ub9cc, \uc774\uc655 \ubb38\uc81c\uac00 \ubc1c\uc0dd\ud55c\uae40\uc5d0 \uae30\uc874\uc5d0 \ubd88\ud3b8\ud558\ub2e4\uace0 \ub290\uaf08\ub358 \ubd80\ubd84\ub4e4\ub3c4 \ubaa8\ub450 \ud574\uacb0\ud558\uae30 \uc704\ud574 \ub2e4\ub978 \ubc29\ubc95\uc744 \uc0ac\uc6a9\ud558\uae30\ub85c \uacb0\uc815\ud588\uc2b5\ub2c8\ub2e4."),(0,a.kt)("br",null),(0,a.kt)("br",null),(0,a.kt)("br",null),(0,a.kt)("br",null),(0,a.kt)("br",null),(0,a.kt)("h2",{id:"-\ucd94\uac00\uc801\uc778-\ubd88\ud3b8-\uc0ac\ud56d"},"\ud83e\uddd0 \ucd94\uac00\uc801\uc778 \ubd88\ud3b8 \uc0ac\ud56d"),(0,a.kt)("p",null,"(\uc808\ub300 \ub3c4\ucee4 \uc4f0\uace0\uc2f6\uc5b4\uc11c \ub290\ub07c\ub294 \uc5b5\uc9c0 \ubd88\ud3b8\ud568\uc774 \uc544\ub2d8\uc744 \ubc1d\ud799\ub2c8\ub2e4)"),(0,a.kt)("p",null,"\uc140\ub7fd\uc787\uc740 \ubc30\ud3ec \uc790\ub3d9\ud654\ub97c \uc704\ud574 \ud504\ub860\ud2b8\uc5d4\ub4dc\uc640 \ubc31\uc5d4\ub4dc\ubcc4\ub85c \ubc30\ud3ec \uc2a4\ud06c\ub9bd\ud2b8\ub97c \ub9cc\ub4e4\uc5b4\ub454 \ud6c4,\nGithub Actions\uc758 Self Hosted Runner\ub97c \ud1b5\ud574 \uac01 \uc11c\ubc84\uc758 \ubc30\ud3ec \uc2a4\ud06c\ub9bd\ud2b8\ub97c \uc2e4\ud589\ud558\uace0 \uc788\uc2b5\ub2c8\ub2e4."),(0,a.kt)("p",null,"\uc774\ub97c \uc704\ud574\uc11c\ub294 \ub2e4\uc74c\uacfc \uac19\uc740 \uc0ac\uc804 \uc791\uc5c5\uc774 \ud544\uc694\ud569\ub2c8\ub2e4."),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},"\uac01 \uc11c\ubc84(dev, prod)\uc5d0 ",(0,a.kt)("inlineCode",{parentName:"li"},"java"),"\uc640 ",(0,a.kt)("inlineCode",{parentName:"li"},"yarn"),", ",(0,a.kt)("inlineCode",{parentName:"li"},"node")," \ub4f1 \ud504\ub85c\uadf8\ub7a8\uc744 \uc2e4\ud589\ud558\uae30 \uc704\ud55c \ud658\uacbd\uc774 \ubbf8\ub9ac \uc124\uc815\ub418\uc5b4 \uc788\uc5b4\uc57c \ud569\ub2c8\ub2e4."),(0,a.kt)("li",{parentName:"ol"},"\uac01 \uc11c\ubc84\uc5d0 \ud544\uc694\ud55c ",(0,a.kt)("inlineCode",{parentName:"li"},"\ubc30\ud3ec \uc2a4\ud06c\ub9bd\ud2b8"),"\ub97c \ubbf8\ub9ac \uc791\uc131\ud574\uc11c \ub123\uc5b4\uc8fc\uc5b4\uc57c \ud569\ub2c8\ub2e4."),(0,a.kt)("li",{parentName:"ol"},"\ubc30\ud3ec \uacfc\uc815\uc5d0 \ubcc0\uacbd \uc0ac\ud56d\uc774 \uc0dd\uae34\ub2e4\uba74 \uac01 \uc11c\ubc84\uc758 \uc2a4\ud06c\ub9bd\ud2b8\ub97c ",(0,a.kt)("inlineCode",{parentName:"li"},"\ub3d9\uc77c\ud558\uac8c \ubcc0\uacbd"),"\ud574\uc8fc\uc5b4\uc57c \ud569\ub2c8\ub2e4.")),(0,a.kt)("p",null,"\uc704\ub294 \ubaa8\ub450 \ub2e4 \uc140\ub7fd\uc787 \ud300\uc774 \ubc30\ud3ec\ub97c \uc9c4\ud589\ud558\uba70 \uacaa\uc5c8\ub358 \uc5b4\ub824\uc6c0\uacfc \uadc0\ucc2e\uc74c\uc774\uba70,\n\ubb34\uc5c7\ubcf4\ub2e4 \ubb38\uc81c\uc778 \uc810\uc740 ",(0,a.kt)("inlineCode",{parentName:"p"},"\uc6b0\ud14c\ucf54 \uad50\uc721\uc7a5 \ub0b4\uc5d0\uc11c\ub9cc EC2\uc5d0 ssh \ub85c \uc811\uadfc"),"\ud560 \uc218 \uc788\uae30\uc5d0 \uc704 3\uac1c\uc758 \uc791\uc5c5 \ubaa8\ub450\n\ud1f4\uadfc\ud55c \ub4a4 \uc9d1\uc5d0\uc11c\ub294 \uc218\ud589\ud560 \uc218 \uc5c6\ub2e4\ub294 \uac83\uc774\uc5c8\uc2b5\ub2c8\ub2e4."),(0,a.kt)("br",null),(0,a.kt)("br",null),(0,a.kt)("p",null,"\uc6b0\ud14c\ucf54\uac00 \ub05d\ub09c \ub4a4 \ud504\ub85c\uc81d\ud2b8\ub97c \uc9c0\uc18d\ud558\uae30 \uc704\ud574 \uc11c\ubc84\ub97c \ub530\ub85c \uc0ac\uc6a9\ud560 \uacbd\uc6b0\uc5d0\ub3c4 \uc704\uc640 \uac19\uc740 \uc124\uc815\uc744 \ub610 \uc9c4\ud589\ud574 \uc8fc\uc5b4\uc57c \ud558\ub294\ub370\uc694,\n\uc0c1\uc0c1\ub9cc \ud574\ub3c4 \ub108\ubb34 \uadc0\ucc2e\uc740 \ub098\uba38\uc9c0 \uc774\ub7ec\ud55c \ubd88\ud3b8\ud568\uc744 \ud574\uc18c\ud558\uace0\uc790 ",(0,a.kt)("inlineCode",{parentName:"p"},"\ud83d\udc33 Docker"),"\ub97c \ub3c4\uc785\ud558\uae30\ub85c \ud588\uc2b5\ub2c8\ub2e4."),(0,a.kt)("br",null),(0,a.kt)("br",null),(0,a.kt)("br",null),(0,a.kt)("br",null),(0,a.kt)("br",null),(0,a.kt)("h2",{id:"-docker\ub97c-\uc0ac\uc6a9\ud55c-cd-\uc544\ud0a4\ud14d\ucc98"},"\ud83e\uddd0 Docker\ub97c \uc0ac\uc6a9\ud55c CD \uc544\ud0a4\ud14d\ucc98"),(0,a.kt)("p",null,"\uc774\ubc88\uc5d0 \uad6c\uc131\ud55c CD \uc544\ud0a4\ud14d\ucc98\ub294 \ub2e4\uc74c\uacfc \uac19\uc2b5\ub2c8\ub2e4.\n",(0,a.kt)("img",{alt:"cicd",src:l(2623).Z,width:"2788",height:"1598"})),(0,a.kt)("p",null,"\uc804\uccb4\uc801\uc778 Flow\ub294 \ub2e4\uc74c\uacfc \uac19\uc2b5\ub2c8\ub2e4."),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},"main \ube0c\ub79c\uce58\uc5d0 pr\uc5d0 merge\ub418\ub294 \uc21c\uac04 github actions\uc758 CD workflow\uac00 \ub3d9\uc791\ud569\ub2c8\ub2e4."),(0,a.kt)("li",{parentName:"ol"},"workflow\uc5d0\uc11c\ub294 Dockerfile\uc744 \ud1b5\ud574 react \ud639\uc740 spring \uc560\ud50c\ub9ac\ucf00\uc774\uc158 \uc774\ubbf8\uc9c0\ub97c \uc0dd\uc131\ud55c \ub4a4 DockerHub\uc5d0 Push\ud569\ub2c8\ub2e4."),(0,a.kt)("li",{parentName:"ol"},"\uc774\ud6c4 EC2\uc758 self hosted runners\ub97c \ub3d9\uc791\uc2dc\ucf1c DockerHub\uc5d0\uc11c Dockerfile\uc744 Pull \ubc1b\uc2b5\ub2c8\ub2e4."),(0,a.kt)("li",{parentName:"ol"},"Pull \ubc1b\uc740 Dockerfile\uc744 \uc2e4\ud589\uc2dc\ud0b5\ub2c8\ub2e4.")),(0,a.kt)("p",null,"\uc774\uc81c\ubd80\ud130 \uc704 \uc544\ud0a4\ud14d\ucc98\ub97c \ucc28\uadfc\ucc28\uadfc \uad6c\uc131\ud574 \ub098\uac00\ub3c4\ub85d \ud560\ud150\ub370\uc694, \uadf8 \uc804\uc5d0 Docker\uc5d0 \ub300\ud574\uc11c \uc815\ub9d0 \uac04\ub2e8\ud788\ub9cc \uc54c\uc544\ubcf4\ub3c4\ub85d \ud558\uaca0\uc2b5\ub2c8\ub2e4.\n\uc790\uc138\ud55c \ub0b4\uc6a9\uc740 ",(0,a.kt)("a",{parentName:"p",href:"https://docs.docker.com/"},"\uacf5\uc2dd\ubb38\uc11c"),"\ub97c \ud3ec\ud568\ud55c \uc5ec\ub7ec \uc88b\uc740 \uc790\ub8cc\ub4e4\uc774 \uc788\uc73c\ubbc0\ub85c \uc774\ub4e4\uc744 \ucc38\uace0\ud574\uc8fc\uc2dc\uba74 \uc88b\uc744 \uac83 \uac19\uc2b5\ub2c8\ub2e4.\ud83d\ude0e"),(0,a.kt)("br",null),(0,a.kt)("br",null),(0,a.kt)("h3",{id:"-dockerfile\uc774-\ubb54\uac00\uc694"},"\ud83d\ude80 Dockerfile\uc774 \ubb54\uac00\uc694?"),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"Docker Image"),"\ub97c \ub9cc\ub4e4\uae30 \uc704\ud55c \uc124\uc815 \ud30c\uc77c\uc785\ub2c8\ub2e4."),(0,a.kt)("br",null),(0,a.kt)("br",null),(0,a.kt)("h3",{id:"-docker-image\ub294-\ubb54\uac00\uc694"},"\ud83d\ude80 Docker Image\ub294 \ubb54\uac00\uc694?"),(0,a.kt)("p",null,"\ucf54\ub4dc, \ub7f0\ud0c0\uc784, \uc2dc\uc2a4\ud15c \ub3c4\uad6c, \ub77c\uc774\ube0c\ub7ec\ub9ac \ubc0f \uc124\uc815\uacfc \uac19\uc740 \uc751\uc6a9 \ud504\ub85c\uadf8\ub7a8\uc744 \uc2e4\ud589\ud558\ub294 \ub370 \ud544\uc694\ud55c \ubaa8\ub4e0 \uac83\uc744 \ud3ec\ud568\ud558\ub294 \uc2e4\ud589 \uac00\ub2a5\ud55c \ud328\ud0a4\uc9c0\uc785\ub2c8\ub2e4.\n",(0,a.kt)("inlineCode",{parentName:"p"},"Docker Image"),"\ub97c \uc2e4\ud589\uc2dc\ud0b4\uc73c\ub85c\uc368 ",(0,a.kt)("inlineCode",{parentName:"p"},"Docker Container"),"\uac00 \uc0dd\uc131\ub429\ub2c8\ub2e4."),(0,a.kt)("br",null),(0,a.kt)("br",null),(0,a.kt)("h3",{id:"-docker-container\ub294-\ubb54\uac00\uc694"},"\ud83d\ude80 Docker Container\ub294 \ubb54\uac00\uc694?"),(0,a.kt)("p",null,"\ucee8\ud14c\uc774\ub108\ub294 \uc774\ubbf8\uc9c0\uc758 \uc2e4\ud589 \uac00\ub2a5\ud55c \uc778\uc2a4\ud134\uc2a4\uc785\ub2c8\ub2e4.",(0,a.kt)("br",null),"\n\uc774\ubbf8\uc9c0\ub85c\ubd80\ud130 \ucee8\ud14c\uc774\ub108\uac00 \uc0dd\uc131\ub418\uba70, \ucee8\ud14c\uc774\ub108\ub294 \ucf54\ub4dc\uc640 \ubaa8\ub4e0 \uc885\uc18d\uc131\uc744 \ud328\ud0a4\uc9c0\ud654\ud558\uc5ec \uc751\uc6a9 \ud504\ub85c\uadf8\ub7a8\uc774 \ud558\ub098\uc758 \ucef4\ud4e8\ud305 \ud658\uacbd\uc5d0\uc11c \uc2e4\ud589\ub420 \uc218 \uc788\ub3c4\ub85d \ud569\ub2c8\ub2e4.",(0,a.kt)("br",null)),(0,a.kt)("p",null,"\uc989 \uc27d\uac8c \ub9d0\ud574 \ucee8\ud14c\uc774\ub108 \uc18d\uc5d0 Spring \ub4f1\uc758 \uc560\ud50c\ub9ac\ucf00\uc774\uc158\uc774 \ub4e4\uc5b4\uc788\uace0, \ucee8\ud14c\uc774\ub108\ub97c \uc2e4\ud589\ud568\uc73c\ub85c\uc368 \ub0b4\ubd80\uc758 \uc560\ud50c\ub9ac\ucf00\uc774\uc158\uc774 \uc2e4\ud589\ub418\ub294 \uac83\uc774\ub77c \uc0dd\uac01\ud558\uba74 \ud3b8\ud569\ub2c8\ub2e4."),(0,a.kt)("br",null),(0,a.kt)("br",null),(0,a.kt)("br",null),(0,a.kt)("br",null),(0,a.kt)("br",null),(0,a.kt)("br",null),(0,a.kt)("br",null),(0,a.kt)("h2",{id:"-\ubc31\uc5d4\ub4dc-cd-\ud50c\ub85c\uc6b0\ub97c-\ub85c\uceec\uc5d0\uc11c-\uc2e4\ud589\ud574\ubcf4\uae30"},"\ud83e\uddd0 \ubc31\uc5d4\ub4dc CD \ud50c\ub85c\uc6b0\ub97c \ub85c\uceec\uc5d0\uc11c \uc2e4\ud589\ud574\ubcf4\uae30"),(0,a.kt)("p",null,"Docker\ub97c \ud1b5\ud55c CD workflow\ub97c \uc791\uc131\ud558\uae30 \uc804\uc5d0, \uc5b4\ub5a4 \uc2dd\uc73c\ub85c \ub3d9\uc791\ud558\ub294\uc9c0\ub97c \uc54c\uc544\uc57c\uaca0\uc8e0?",(0,a.kt)("br",null),"\n\uadf8\ub798\uc11c \uc6b0\uc120 \uc804\uccb4\uc801\uc778 \uacfc\uc815\uc744 \ub85c\uceec\uc5d0\uc11c \uc9c1\uc811 \uc9c4\ud589\ud55c \ub4a4, \ud574\ub2f9 \uacfc\uc815\uc744 \ubc14\ud0d5\uc73c\ub85c workflow\ub97c \uc791\uc131\ud558\uc5ec \uc2e4\ud589\ud558\ub3c4\ub85d \ud558\uaca0\uc2b5\ub2c8\ub2e4.",(0,a.kt)("br",null),"\n(\uc774 \uacfc\uc815\uc740 \ub85c\uceec\uc5d0 \ub3c4\ucee4\uac00 \uae54\ub824 \uc788\ub2e4\uace0 \uac00\uc815\ud558\uace0 \uc9c4\ud589\ud569\ub2c8\ub2e4. \uc774\uc5d0 \ub300\ud574\uc11c\ub294 \uc774\ubbf8 \uc5ec\ub7ec \ube14\ub85c\uadf8\ub098 \uacf5\uc2dd\ubb38\uc11c\uc5d0\uc11c \uc124\uce58\ubc95\uc744 \uc54c\ub824\uc8fc\uae30 \ub54c\ubb38\uc5d0 \ub118\uc5b4\uac00\ub3c4\ub85d \ud558\uaca0\uc2b5\ub2c8\ub2e4.)"),(0,a.kt)("br",null),(0,a.kt)("br",null),(0,a.kt)("h3",{id:"-dockerfile-\uc791\uc131\ud558\uae30"},"\ud83d\ude80 Dockerfile \uc791\uc131\ud558\uae30"),(0,a.kt)("p",null,"\uc791\uc131\ub41c Dockerfile\uc740 \uc544\ub798\uc640 \uac19\uc2b5\ub2c8\ub2e4."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-dockerfile"},'FROM amazoncorretto:17-alpine-jdk\n\nWORKDIR /app\n\nCOPY ./build/libs/celuveat-0.0.1-SNAPSHOT.jar /app/celuveat.jar\n\nCMD ["java", "-jar", "celuveat.jar"]\n')),(0,a.kt)("p",null,"\ud55c \uc904 \ud55c \uc904 \uc0b4\ud3b4\ubcf4\ub3c4\ub85d \ud558\uaca0\uc2b5\ub2c8\ub2e4."),(0,a.kt)("br",null),(0,a.kt)("br",null),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-dockerfile"},"FROM amazoncorretto:17-alpine-jdk\n")),(0,a.kt)("p",null,"Docker \uc774\ubbf8\uc9c0 \uc0dd\uc131 \uc2dc \uae30\ubc18\uc774 \ub418\ub294 \uc774\ubbf8\uc9c0 \ub808\uc774\uc5b4\ub97c \uc815\uc758\ud558\ub294 \ubd80\ubd84\uc785\ub2c8\ub2e4.",(0,a.kt)("br",null),"\n\uc800\ud76c\uc758 \ud504\ub85c\uc81d\ud2b8\ub294 \uc790\ubc14 17\ubc84\uc804\uc744 \uc0ac\uc6a9\ud558\ubbc0\ub85c amazoncorretto\uc758 jdk 17\ubc84\uc804\uc744 Base image\ub85c \uac00\uc9c0\uace0 \uc624\ub3c4\ub85d \ud569\ub2c8\ub2e4."),(0,a.kt)("br",null),(0,a.kt)("br",null),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-dockerfile"},"WORKDIR /app\n")),(0,a.kt)("p",null,"\ub3c4\ucee4 \ucee8\ud14c\uc774\ub108 \ub0b4\uc5d0\uc11c\uc758 \uc791\uc5c5 \ub514\ub809\ud1a0\ub9ac\ub97c ",(0,a.kt)("inlineCode",{parentName:"p"},"/app"),"\uc73c\ub85c \uc124\uc815\ud569\ub2c8\ub2e4.",(0,a.kt)("br",null),"\n\uc774\ud6c4 \uc9c4\ud589\ub418\ub294 \uc791\uc5c5\ub4e4\uc740 \ubaa8\ub450 ",(0,a.kt)("inlineCode",{parentName:"p"},"/app"),"  \ub0b4\ubd80\uc5d0\uc11c \uc9c4\ud589\ub429\ub2c8\ub2e4."),(0,a.kt)("br",null),(0,a.kt)("br",null),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-dockerfile"},"COPY ./build/libs/celuveat-0.0.1-SNAPSHOT.jar /app/celuveat.jar\n")),(0,a.kt)("p",null,"COPY\ub97c \ud1b5\ud574 \ucee8\ud14c\uc774\ub108 \uc678\ubd80\uc758 \ud30c\uc77c\uc744 \ucee8\ud14c\uc774\ub108 \ub0b4\ubd80\ub85c \ubcf5\uc0ac\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."),(0,a.kt)("p",null,"\ube4c\ub4dc\ub41c jar\ud30c\uc77c\uc740 \ucee8\ud14c\uc774\ub108 \ub0b4\ubd80\uc5d0\uc11c \uc2e4\ud589\ud574\uc57c \ud558\ubbc0\ub85c, COPY \uba85\ub839\uc5b4\ub97c \ud1b5\ud574 \ucee8\ud14c\uc774\ub108\uc758 ",(0,a.kt)("inlineCode",{parentName:"p"},"/app \ub514\ub809\ud1a0\ub9ac(WORKDIR)"),"\uc758 \ub0b4\ubd80\ub85c \uc774\ub3d9\uc2dc\ucf1c\uc90d\ub2c8\ub2e4."),(0,a.kt)("br",null),(0,a.kt)("br",null),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-dockerfile"},'CMD ["java", "-jar", "celuveat.jar"]\n')),(0,a.kt)("p",null,"Jar \ud30c\uc77c\uc744 \uc2e4\ud589\uc2dc\ud0a4\ub294 \ubd80\ubd84\uc785\ub2c8\ub2e4."),(0,a.kt)("br",null),(0,a.kt)("br",null),(0,a.kt)("br",null),(0,a.kt)("br",null),(0,a.kt)("br",null),(0,a.kt)("h3",{id:"-dockerfile\uc744-\ud1b5\ud574-docker-image-\ube4c\ub4dc\ud558\uae30"},"\ud83d\ude80 Dockerfile\uc744 \ud1b5\ud574 Docker Image \ube4c\ub4dc\ud558\uae30"),(0,a.kt)("p",null,"\uc774\uc81c \uc704 Dockerfile\uc744 \ube4c\ub4dc\ud558\uc5ec Docker Image\ub97c \uc0dd\uc131\ud574\ubcf4\ub3c4\ub85d \ud558\uaca0\uc2b5\ub2c8\ub2e4."),(0,a.kt)("p",null,"Dockerfile\uc758 \uc704\uce58\ub294 \ub2e4\uc74c\uacfc \uac19\uc2b5\ub2c8\ub2e4.\n",(0,a.kt)("img",{alt:"Dockerfile",src:l(178).Z,width:"872",height:"670"})),(0,a.kt)("br",null),(0,a.kt)("p",null,"Dockerfile\uc744 \ud1b5\ud574 Docker Image\ub97c \ube4c\ub4dc\ud558\uae30 \uc804\uc5d0 Jar\ud30c\uc77c\uc744 \uc6b0\uc120 \ube4c\ub4dc\ud574\uc57c \ud569\ub2c8\ub2e4."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},"./gradlew bootJar\n")),(0,a.kt)("br",null),(0,a.kt)("br",null),(0,a.kt)("p",null,"\uc774\ud6c4 \ub2e4\uc74c \uba85\ub839\uc5b4\ub97c \ud1b5\ud574 \uc774\ubbf8\uc9c0\ub97c \ube4c\ub4dc\ud569\ub2c8\ub2e4."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},"docker build -t celuveat/celuveat ./\n")),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"-t <name>:<tag>")," : \ube4c\ub4dc\ud560 Image\uc758 \uc774\ub984\uacfc tag\ub97c \uc815\ud574\uc90d\ub2c8\ub2e4.",(0,a.kt)("br",null),"\n\uc774\ub54c tag\ub294 \uc0dd\ub7b5 \uac00\ub2a5\ud558\uba70, \uc774\ub984\uc758 \uacbd\uc6b0 \ud3b8\uc758\ub97c \uc704\ud574 \uc774\ud6c4 \uc0dd\uc131\ud560 DockerHub\uc758 namespace/repository\uc73c\ub85c \uc9c0\uc815\ud558\uc600\uc2b5\ub2c8\ub2e4. ",(0,a.kt)("br",null),"\n\uc800\ub294 tag\ub97c \uc0dd\ub7b5\ud588\uc73c\uba70, \uc774 \uacbd\uc6b0 ",(0,a.kt)("inlineCode",{parentName:"p"},"latest"),"\uac00 default tag\ub85c \ubd99\uc2b5\ub2c8\ub2e4."),(0,a.kt)("p",null,(0,a.kt)("img",{alt:"build",src:l(5888).Z,width:"2186",height:"828"})),(0,a.kt)("p",null,"\uc704\uc640 \uac19\uc774 \ubb38\uc81c \uc5c6\uc774 \uc131\uacf5\ud560 \uac83\uc778\ub370\uc694, \uc774\uc81c \uc0dd\uc131\ub41c \uc774\ubbf8\uc9c0\ub97c \ud655\uc778\ud574\ubcf4\ub3c4\ub85d \ud558\uaca0\uc2b5\ub2c8\ub2e4."),(0,a.kt)("br",null),(0,a.kt)("br",null),(0,a.kt)("p",null,"\ub2e4\uc74c \uba85\ub839\uc5b4\ub97c \uc785\ub825\ud569\ub2c8\ub2e4."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},"docker images\n")),(0,a.kt)("p",null,(0,a.kt)("img",{alt:"images",src:l(8382).Z,width:"1340",height:"160"})),(0,a.kt)("p",null,"\uc704\uc640 \uac19\uc774 \uc774\ubbf8\uc9c0\ub3c4 \uc798 \uc0dd\uc131\ub41c \uac83\uc744 \ud655\uc778\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."),(0,a.kt)("br",null),(0,a.kt)("p",null,"\uc774\uc81c \ud574\ub2f9 \uc774\ubbf8\uc9c0\ub97c DockerHub\uc5d0 \uc62c\ub9b0 \ub4a4, EC2\uc5d0\uc11c \uc774\ub97c \ub2e4\uc6b4\ubc1b\uc544 \uc2e4\ud589\ud574\uc57c \ud569\ub2c8\ub2e4.\n\uc6b0\uc120 \ud574\ub2f9 \uc774\ubbf8\uc9c0\uac00 \ubb38\uc81c\uc5c6\ub294\uc9c0 \ud655\uc778\ud574\ubcf4\uae30 \uc704\ud574 \ub85c\uceec\uc5d0\uc11c \uc2e4\ud589\ud574\ubcf4\ub3c4\ub85d \ud558\uaca0\uc2b5\ub2c8\ub2e4."),(0,a.kt)("br",null),(0,a.kt)("br",null),(0,a.kt)("br",null),(0,a.kt)("br",null),(0,a.kt)("br",null),(0,a.kt)("h3",{id:"-dockerimage-local\uc5d0\uc11c-\uc2e4\ud589\ud574\ubcf4\uae30"},"\ud83d\ude80 DockerImage Local\uc5d0\uc11c \uc2e4\ud589\ud574\ubcf4\uae30"),(0,a.kt)("p",null,"\ub2e4\uc74c \uba85\ub839\uc5b4\ub97c \uc785\ub825\ud569\ub2c8\ub2e4."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},'docker run \\\n-d \\\n--rm \\\n--name backend \\\n-p 8080:8080 \\\n-e "SPRING_PROFILE=local" \\\nceluveat/celuveat\n')),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"-d : \ubc31\uadf8\ub77c\uc6b4\ub4dc\ub85c \uc2e4\ud589\ud569\ub2c8\ub2e4."),(0,a.kt)("li",{parentName:"ul"},"--name <\uc774\ub984> : \ucee8\ud14c\uc774\ub108\uc758 \uc774\ub984\uc744 \uc9c0\uc815\ud569\ub2c8\ub2e4."),(0,a.kt)("li",{parentName:"ul"},"--rm : \ucee8\ud14c\uc774\ub108\uac00 \uc885\ub8cc\ub418\uba74 \uc790\ub3d9\uc73c\ub85c \ucee8\ud14c\uc774\ub108\ub97c \uc81c\uac70\ud569\ub2c8\ub2e4."),(0,a.kt)("li",{parentName:"ul"},"-p 8080:8080 : \ud638\uc2a4\ud2b8\uc758 \ud3ec\ud2b8(\uc678\ubd80 \ud3ec\ud2b8)(\uc88c\uce21 8080)\ub97c \ucee8\ud14c\uc774\ub108\uc758 \ud3ec\ud2b8 8080\uc73c\ub85c \ub9e4\ud551\ud569\ub2c8\ub2e4."),(0,a.kt)("li",{parentName:"ul"},"-e : \ud658\uacbd\ubcc0\uc218\ub97c \uc124\uc815\ud569\ub2c8\ub2e4."),(0,a.kt)("li",{parentName:"ul"},"celuveat/celuveat : \uc2e4\ud589\ud560 Docker Image\uc758 \uc774\ub984(\uc815\ud655\ud788\ub294 \ud0dc\uadf8)\uc744 \uba85\uc2dc\ud569\ub2c8\ub2e4.")),(0,a.kt)("br",null),(0,a.kt)("p",null,"\uc704 \uba85\ub839\uc5b4\ub97c \uc2e4\ud589\ud588\uc744 \ub54c \ub2e4\uc74c\uacfc \uac19\uc774 \uc2e4\ud589\ub41c\ub2e4\uba74 \ubb38\uc81c\uac00 \uc5c6\ub294 \uac83\uc785\ub2c8\ub2e4.\n",(0,a.kt)("img",{alt:"run",src:l(9027).Z,width:"1338",height:"348"})),(0,a.kt)("br",null),(0,a.kt)("p",null,"\uc774\uc5b4\uc11c \uc798 \uc2e4\ud589\ub418\uc5c8\ub294\uc9c0 \ub85c\uadf8\ub97c \ud655\uc778\ud574\ubcf4\uaca0\uc2b5\ub2c8\ub2e4."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},"docker logs backend\n")),(0,a.kt)("p",null,(0,a.kt)("img",{alt:"log",src:l(3318).Z,width:"3528",height:"2032"})),(0,a.kt)("p",null,"\uc798 \uc2e4\ud589\ub418\ub294 \uac83\uc744 \ud655\uc778\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."),(0,a.kt)("br",null),(0,a.kt)("p",null,"\uc774\uc81c \ub85c\uceec\uc5d0\uc11c \uc2e4\ud589\uc911\uc778 \uc560\ud50c\ub9ac\ucf00\uc774\uc158\uc740 \uba48\ucd98 \ub4a4 \uc774\ub97c DockerHub\uc5d0 \uc62c\ub9ac\ub3c4\ub85d \ud558\uaca0\uc2b5\ub2c8\ub2e4."),(0,a.kt)("p",null,"\uc2e4\ud589\uc911\uc778 \uc560\ud50c\ub9ac\ucf00\uc774\uc158\uc740 \ub2e4\uc74c\uacfc \uac19\uc774 \uba48\ucd9c \uc218 \uc788\uc2b5\ub2c8\ub2e4."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"docker stop backend || true\n")),(0,a.kt)("p",null,"\uc5ec\uae30\uc11c ",(0,a.kt)("inlineCode",{parentName:"p"},"backend"),"\ub294 ",(0,a.kt)("inlineCode",{parentName:"p"},"container"),"\uc758 \uc774\ub984\uc785\ub2c8\ub2e4."),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"|| true : \ub3c4\uc911\uc5d0 \uc624\ub958\uac00 \ubc1c\uc0dd\ud574\ub3c4 \uc2a4\ud06c\ub9bd\ud2b8\ub97c \uc911\ub2e8\ud558\uc9c0 \uc54a\uace0 \uacc4\uc18d \uc9c4\ud589\ud558\ub3c4\ub85d \ud569\ub2c8\ub2e4.")),(0,a.kt)("br",null),(0,a.kt)("br",null),(0,a.kt)("br",null),(0,a.kt)("br",null),(0,a.kt)("br",null),(0,a.kt)("h3",{id:"dockerhub\uc5d0-docker-image-push\ud558\uae30"},"\ud83d\ude80DockerHub\uc5d0 Docker Image Push\ud558\uae30"),(0,a.kt)("p",null,"\uc774\uc81c DockerHub\uc5d0 Docker Image\ub97c Push\ud558\ub294 \uacfc\uc815\uc744 \uc54c\uc544\ubcf4\ub3c4\ub85d \ud558\uaca0\uc2b5\ub2c8\ub2e4."),(0,a.kt)("p",null,"\uc6b0\uc120 \uc774\ub97c \uc704\ud574 DockerHub\uc5d0 \uac00\uc785\ud55c \ub4a4, \ub2e4\uc74c\uacfc \uac19\uc774 Repository\ub97c \uc0dd\uc131\ud569\ub2c8\ub2e4.\n",(0,a.kt)("img",{alt:"repo",src:l(5949).Z,width:"1558",height:"944"})),(0,a.kt)("br",null),(0,a.kt)("br",null),(0,a.kt)("p",null,"\ud574\ub2f9 Repository\uc5d0 push\ud558\ub294\uac83\uc740 \uac04\ub2e8\ud569\ub2c8\ub2e4."),(0,a.kt)("p",null,"\uc6b0\uc120 \ub85c\uadf8\uc778\uc744 \uc9c4\ud589\ud569\ub2c8\ub2e4."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},"docker login\n")),(0,a.kt)("p",null,(0,a.kt)("img",{alt:"login",src:l(1337).Z,width:"1990",height:"422"})),(0,a.kt)("br",null),(0,a.kt)("br",null),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},"docker push celuveat/celuveat\n")),(0,a.kt)("p",null,(0,a.kt)("img",{alt:"push",src:l(1205).Z,width:"1618",height:"358"})),(0,a.kt)("p",null,"(\uc774\ub54c \ub9cc\uc57d build \uc2dc tag\ub97c \ub2e4\ub974\uac8c \uc8fc\uc5c8\ub2e4\uba74, \ub2e4\uc74c \uba85\ub839\uc5b4\ub97c \ud1b5\ud574 tag\ub97c \uc0c8\ub85c \ub2ec\uc544\uc8fc\uc5b4\uc57c \ud569\ub2c8\ub2e4."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-java"},"docker tag <\ub85c\uceec\uc774\ubbf8\uc9c0\uc774\ub984>:<\ud0dc\uadf8> <dockerhub namespace>/<repository \uc774\ub984>:<\ud0dc\uadf8>\n")),(0,a.kt)("p",null,"\ub610\ud55c \uc774\ub54c \ud0dc\uadf8\ub294 \uc0dd\ub7b5 \uac00\ub2a5\ud558\uba70, \uc0dd\ub7b5\ud558\ub294 \uacbd\uc6b0 latest\uac00 default\ub85c \ubd99\uc2b5\ub2c8\ub2e4.)"),(0,a.kt)("br",null),(0,a.kt)("br",null),(0,a.kt)("p",null,"push \uc774\ud6c4 DockerHub\uc758 Repository\ub85c \ub4e4\uc5b4\uac00\ubcf4\uba74, \ub2e4\uc74c\uacfc \uac19\uc774 \uc774\ubbf8\uc9c0\uac00 push\ub418\uc5b4 \uc788\ub294\uac83\uc744 \ud655\uc778 \uc218 \uc788\uc2b5\ub2c8\ub2e4.\n",(0,a.kt)("img",{alt:"pushed",src:l(6608).Z,width:"725",height:"481"})),(0,a.kt)("br",null),(0,a.kt)("br",null),(0,a.kt)("br",null),(0,a.kt)("br",null),(0,a.kt)("br",null),(0,a.kt)("h3",{id:"-ec2\uc5d0\uc11c-image\ub97c-pull-\ubc1b\uc544-\uc2e4\ud589\ud574\ubcf4\uae30"},"\ud83d\ude80 EC2\uc5d0\uc11c Image\ub97c Pull \ubc1b\uc544 \uc2e4\ud589\ud574\ubcf4\uae30"),(0,a.kt)("p",null,"\uc774\uc81c EC2\uc5d0\uc11c DockerHub\uc5d0 \uc62c\ub77c\uac04 \uc774\ubbf8\uc9c0\ub97c Pull\ubc1b\uc544 \uc774\ub97c \uc2e4\ud589\uc2dc\ud0a4\ub3c4\ub85d \ud558\uaca0\uc2b5\ub2c8\ub2e4.",(0,a.kt)("br",null),"\n\uc6b0\uc120 \uc774\ub97c \uc704\ud574 \ud14c\uc2a4\ud2b8\uc6a9 EC2\ub97c \ud558\ub098 \uc0c8\ub85c \uc0dd\uc131\ud574 \uc8fc\uc5c8\uc2b5\ub2c8\ub2e4."),(0,a.kt)("p",null,"Docker\ub97c \uc0ac\uc6a9\ud558\uae30 \ub54c\ubb38\uc5d0 EC2\uc5d0 java\ub97c \ub530\ub85c \uc124\uce58\ud560 \ud544\uc694\ub294 \uc5c6\uc9c0\ub9cc, docker\ub294 \uc124\uce58\ud574\uc8fc\uc5b4\uc57c \ud569\ub2c8\ub2e4.",(0,a.kt)("br",null),"\n",(0,a.kt)("a",{parentName:"p",href:"https://docs.docker.com/engine/install/ubuntu/"},"\ub2e4\uc74c \ubb38\uc11c"),"\uc5d0 \ub530\ub77c \uc124\uce58\ub97c \uc9c4\ud589\ud569\ub2c8\ub2e4."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},"sudo apt-get update\nsudo apt-get install ca-certificates curl gnupg\n")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},"sudo install -m 0755 -d /etc/apt/keyrings\ncurl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo gpg --dearmor -o /etc/apt/keyrings/docker.gpg\nsudo chmod a+r /etc/apt/keyrings/docker.gpg\n")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},'echo \\\n  "deb [arch="$(dpkg --print-architecture)" signed-by=/etc/apt/keyrings/docker.gpg] https://download.docker.com/linux/ubuntu \\\n  "$(. /etc/os-release && echo "$VERSION_CODENAME")" stable" | \\\n  sudo tee /etc/apt/sources.list.d/docker.list > /dev/null\n')),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},"sudo apt-get update\n")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},"sudo apt-get install docker-ce docker-ce-cli containerd.io docker-buildx-plugin docker-compose-plugin\n")),(0,a.kt)("br",null),(0,a.kt)("br",null),(0,a.kt)("p",null,"\uc774\uc81c DockerHub\uc5d0\uc11c image\ub97c pull \ubc1b\uc544 \uc0ac\uc6a9\ud558\ub3c4\ub85d \ud558\uaca0\uc2b5\ub2c8\ub2e4."),(0,a.kt)("p",null,"\uc800\ud76c\ub294 private repository\ub97c \uc0ac\uc6a9\ud558\ubbc0\ub85c \uc6b0\uc120 \ub85c\uadf8\uc778\uc744 \uc9c4\ud589\ud574\uc57c \ud569\ub2c8\ub2e4."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},"docker login\n")),(0,a.kt)("p",null,"\uadf8\ub7f0\ub370 \uc704 \uba85\ub839\uc5b4\ub97c \uc2e4\ud589\ud574\uc11c \uc778\uc99d\uc744 \uc9c4\ud589\ud558\uba74, \ub2e4\uc74c\uacfc \uac19\uc774 ",(0,a.kt)("inlineCode",{parentName:"p"},"permission denied")," \uc624\ub958\uac00 \ub730 \uac83\uc785\ub2c8\ub2e4.\n",(0,a.kt)("img",{alt:"denied",src:l(3194).Z,width:"2000",height:"280"})),(0,a.kt)("p",null,"\uc704 \uc624\ub958\ub294 Docker\uc758 \ub370\ubaac \uc18c\ucf13 \ud30c\uc77c\uc778 ",(0,a.kt)("inlineCode",{parentName:"p"},"/var/run/docker.sock"),"\uc5d0 \ub300\ud55c \uc811\uadfc \uad8c\ud55c\uc774 \ubd80\uc871\ud558\uc5ec \ubc1c\uc0dd\ud558\ub294 \uc624\ub958\uc785\ub2c8\ub2e4."),(0,a.kt)("br",null),(0,a.kt)("p",null,"\uc774\ub97c \ud574\uacb0\ud558\ub294 \ubc29\ubc95\uc740 \ud06c\uac8c \ub450\uac00\uc9c0\uac00 \uc788\ub294\ub370, \ud558\ub098\ub294 ",(0,a.kt)("inlineCode",{parentName:"p"},"sudo"),"\ub97c \uc0ac\uc6a9\ud558\ub294 \uac83\uc774\uace0, \ub2e4\ub978 \ud558\ub098\ub294 Docker \uadf8\ub8f9\uc5d0 \uc0ac\uc6a9\uc790\ub97c \ucd94\uac00\ud558\ub294 \uac83\uc785\ub2c8\ub2e4.",(0,a.kt)("br",null),"\n\uc800\ub294 \ub450\ubc88\uc9f8 \ubc29\ubc95\uc73c\ub85c \ud574\uacb0\ud574 \ubcf4\ub3c4\ub85d \ud558\uaca0\uc2b5\ub2c8\ub2e4.",(0,a.kt)("br",null)),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},"sudo usermod -aG docker $USER\n")),(0,a.kt)("p",null,"\uc704\ub294 \ud604\uc7ac \uc0ac\uc6a9\uc790($USER)\ub97c docker \uadf8\ub8f9\uc5d0 \ucd94\uac00\ud558\ub294 \uba85\ub839\uc5b4\uc785\ub2c8\ub2e4."),(0,a.kt)("br",null),(0,a.kt)("p",null,"\uc774\ud6c4 \ub2e4\uc74c \uba85\ub839\uc5b4\ub97c \uc2e4\ud589\ud569\ub2c8\ub2e4."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},"newgrp docker\n")),(0,a.kt)("br",null),(0,a.kt)("p",null,"\uc774\uc81c \ub2e4\uc2dc \ub85c\uadf8\uc778\uc744 \uc2dc\ub3c4\ud558\uba74 \uc131\uacf5\ud558\ub294 \uac83\uc744 \ud655\uc778\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4.\n",(0,a.kt)("img",{alt:"login",src:l(9211).Z,width:"1998",height:"380"})),(0,a.kt)("br",null),(0,a.kt)("br",null),(0,a.kt)("p",null,"DockerHub\uc5d0\uc11c Image\ub97c Pull \ud558\ub3c4\ub85d \ud558\uaca0\uc2b5\ub2c8\ub2e4."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},"docker pull celuveat/celuveat\n")),(0,a.kt)("p",null,"(\ub9cc\uc57d \ud0dc\uadf8\ub97c \ubd99\uc5ec\uc8fc\uc5c8\ub2e4\uba74 \ud0dc\uadf8\ub3c4 \uac19\uc774 \uba85\uc2dc\ud574\uc8fc\uc5b4\uc57c \ud569\ub2c8\ub2e4. \uba85\uc2dc\ud558\uc9c0 \uc54a\uc73c\uba74 latest\uac00 default\ub85c \ubd99\uc2b5\ub2c8\ub2e4.)"),(0,a.kt)("p",null,(0,a.kt)("img",{alt:"pulled",src:l(6833).Z,width:"1316",height:"386"})),(0,a.kt)("br",null),(0,a.kt)("p",null,"\uc774\uc81c \ud574\ub2f9 \uc774\ubbf8\uc9c0\ub97c \uc2e4\ud589\ud574\ubcf4\ub3c4\ub85d \ud558\uaca0\uc2b5\ub2c8\ub2e4."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},'docker run \\\n-d \\\n--rm \\\n--name backend \\\n-p 8080:8080 \\\n-e "SPRING_PROFILE=local" \\\nceluveat/celuveat\n')),(0,a.kt)("p",null,(0,a.kt)("img",{alt:"docker run2",src:l(5554).Z,width:"3118",height:"1274"})),(0,a.kt)("p",null,"\uc560\ud50c\ub9ac\ucf00\uc774\uc158\uc774 \uc798 \uc2e4\ud589\ub418\ub294 \uac83\uc744 \ud655\uc778\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4.\n\uc774\uc81c \uc774\ub97c stop \uba85\ub839\uc5b4\ub97c \ud1b5\ud574 \uc885\ub8cc\ud574\uc900 \ud6c4, \ud14c\uc2a4\ud2b8\ub97c \ub05d\ub9c8\uce58\ub3c4\ub85d \ud558\uaca0\uc2b5\ub2c8\ub2e4."),(0,a.kt)("br",null),(0,a.kt)("br",null),(0,a.kt)("br",null),(0,a.kt)("br",null),(0,a.kt)("br",null),(0,a.kt)("h2",{id:"-\ubc31\uc5d4\ub4dc-cd-workflow-\uc791\uc131\ud558\uae30"},"\ud83e\uddd0 \ubc31\uc5d4\ub4dc CD workflow \uc791\uc131\ud558\uae30"),(0,a.kt)("p",null,"\uc774\uc81c \uc704 \uacfc\uc815\uc744 Github Actions\uc640 self-hosted runners\ub97c \ud1b5\ud574 \uc790\ub3d9\ud654\ud560 \uc218 \uc788\ub3c4\ub85d workflow\ub97c \uc791\uc131\ud558\ub3c4\ub85d \ud558\uaca0\uc2b5\ub2c8\ub2e4.\n(dev\uc640 prod\ub294 \ub300\uccb4\ub85c \ub3d9\uc77c\ud558\ubbc0\ub85c, prod\uc6a9 workflow\ub9cc\uc744 \uc791\uc131\ud558\ub3c4\ub85d \ud558\uaca0\uc2b5\ub2c8\ub2e4.)"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-yml"},"name: \u2728 Celuveat backend PROD CD \u2728\n\nenv:\n  PROFILE: prod\n  IMAGE_TAG: back-prod-${{ secrets.APP_VERSION_TAG }}\n  DOCKER_CONTAINER_NAME: backend\n  DOCKER_HUB_REPOSITORY: celuveat/celuveat\n\non:\n  workflow_dispatch:\n  push:\n    branches:\n      - main\n    paths:\n      - \"backend/**\"\n\njobs:\n  backend-docker-build-and-push:\n    runs-on: ubuntu-latest\n    defaults:\n      run:\n        working-directory: ./backend\n\n    steps:\n      - name: \u2728 Checkout repository\n        uses: actions/checkout@v3\n        with:\n          submodules: true\n          token: ${{ secrets.ACTION_TOKEN }}\n\n      - name: \u2728 JDK 17 \uc124\uc815\n        uses: actions/setup-java@v3\n        with:\n          java-version: '17'\n          distribution: 'temurin'\n\n      - name: \u2728 Gradlew \uad8c\ud55c \uc124\uc815\n        run: chmod +x ./gradlew\n\n      - name: \u2728 Jar \ud30c\uc77c \ube4c\ub4dc\n        run: ./gradlew bootJar\n\n      - name: \u2728 DockerHub\uc5d0 \ub85c\uadf8\uc778\n        uses: docker/login-action@v2\n        with:\n          username: ${{ secrets.DOCKER_HUB_USERNAME }}\n          password: ${{ secrets.DOCKER_HUB_PASSWORD }}\n\n      - name: \u2728 Docker Image \ube4c\ub4dc \ud6c4 DockerHub\uc5d0 Push\n        uses: docker/build-push-action@v4\n        with:\n          context: ./backend\n          file: ./backend/Dockerfile\n          push: true\n          platforms: linux/arm64\n          tags: ${{ env.DOCKER_HUB_REPOSITORY }}:${{ env.IMAGE_TAG }}\n\n  backend-docker-pull-and-run:\n    runs-on: [self-hosted, prod]\n    if: ${{ needs.backend-docker-build-and-push.result == 'success' }}\n    needs: [ backend-docker-build-and-push ]\n    steps:\n      - name: \u2728 DockerHub\uc5d0\uc11c Image Pull\n        run: |\n          docker login --username ${{ secrets.DOCKER_HUB_USERNAME }} --password ${{ secrets.DOCKER_HUB_PASSWORD }}\n          docker pull ${{ env.DOCKER_HUB_REPOSITORY }}:${{ env.IMAGE_TAG }}\n          docker stop ${{ env.DOCKER_CONTAINER_NAME }} || true\n          docker container prune -f\n          docker image prune -f\n\n      - name: \u2728 Docker Image \uc2e4\ud589\n        run: |\n          docker run \\\n            -d \\\n            --name ${{ env.DOCKER_CONTAINER_NAME }} \\\n            -p 8080:8080 \\\n            -e \"SPRING_PROFILES_ACTIVE=${{ env.PROFILE }}\" \\\n            ${{ env.DOCKER_HUB_REPOSITORY }}:${{ env.IMAGE_TAG }}\n")),(0,a.kt)("p",null,"\uc774\ub97c \ud558\ub098\ud558\ub098 \uc0b4\ud3b4\ubcf4\ub3c4\ub85d \ud558\uaca0\uc2b5\ub2c8\ub2e4."),(0,a.kt)("br",null),(0,a.kt)("br",null),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-yml"},"env:\n  PROFILE: prod\n  IMAGE_TAG: back-prod-${{ secrets.APP_VERSION_TAG }}\n  DOCKER_CONTAINER_NAME: backend\n  DOCKER_HUB_REPOSITORY: celuveat/celuveat\n")),(0,a.kt)("p",null,"yml \ub0b4\uc5d0\uc11c \uc0ac\uc6a9\ud560 \ubcc0\uc218\ub4e4\uc744 \uc815\uc758\ud574\uc8fc\ub294 \ubd80\ubd84\uc785\ub2c8\ub2e4."),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"PROFILE: \uc2a4\ud504\ub9c1\uc744 \uc2e4\ud589\ud560 \ub54c ",(0,a.kt)("inlineCode",{parentName:"li"},"SPRING_PROFILES_ACTIVE"),"\uc758 \uac12\uc73c\ub85c \uc904 \uac12\uc785\ub2c8\ub2e4. \ud504\ub85c\ub355\uc158\uc6a9 workflow\uc774\ubbc0\ub85c ",(0,a.kt)("inlineCode",{parentName:"li"},"prod"),"\ub85c \uc124\uc815\ud569\ub2c8\ub2e4."),(0,a.kt)("li",{parentName:"ul"},"IMAGE_TAG: \ub3c4\ucee4 \uc774\ubbf8\uc9c0\ub97c \ud658\uacbd&\ubc84\uc804\ubcc4\ub85c \uad00\ub9ac\ud558\uae30 \uc704\ud55c \ud0dc\uadf8\ub97c \ub9cc\ub4dc\ub294 \ubd80\ubd84\uc73c\ub85c, ",(0,a.kt)("inlineCode",{parentName:"li"},"prod-1.0.0")," \uc758 \ud615\uc2dd\uc73c\ub85c \uc0dd\uc131\ub429\ub2c8\ub2e4."),(0,a.kt)("li",{parentName:"ul"},"DOCKER_CONTAINER_NAME: Docker Image \ub85c\ubd80\ud130 \uc0dd\uc131\ub420 Container\uc758 \uc774\ub984\uc744 \uc815\uc758\ud574\uc8fc\ub294 \ubd80\ubd84\uc785\ub2c8\ub2e4."),(0,a.kt)("li",{parentName:"ul"},"DOCKER_HUB_REPOSITORY: DockerHub Repository\uc758 namespace/repository\uc774\ub984 \uc785\ub2c8\ub2e4.")),(0,a.kt)("br",null),(0,a.kt)("br",null),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-yml"},'on:\n  workflow_dispatch:\n  push:\n    branches:\n      - main\n    paths:\n      - "backend/**"\n')),(0,a.kt)("p",null,"\ud574\ub2f9 \uc6cc\ud06c\ud50c\ub85c\uc6b0\uac00 \uc5b8\uc81c \ub3d9\uc791\ud560\uc9c0\ub97c \uc815\uc758\ud558\ub294 \ubd80\ubd84\uc785\ub2c8\ub2e4.",(0,a.kt)("br",null),"\nmain \ube0c\ub79c\uce58\uc5d0 push\uac00 \ubc1c\uc0dd\ud558\uc600\uc744 \ub54c, backend\uc758 \ud558\uc704 \ub514\ub809\ud1a0\ub9ac\uc5d0 \ubcc0\uacbd\uc774 \uc0dd\uacbc\uc744 \uacbd\uc6b0 \ud574\ub2f9 workflow\uac00 \ub3d9\uc791\ud569\ub2c8\ub2e4."),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"workflow_dispatch: \uc6cc\ud06c\ud50c\ub85c\uc6b0\ub97c \uc218\ub3d9\uc73c\ub85c \ud2b8\ub9ac\uac70\ud560 \uc218 \uc788\ub3c4\ub85d \ud569\ub2c8\ub2e4.")),(0,a.kt)("br",null),(0,a.kt)("br",null),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-yml"},"jobs:\n  backend-docker-build-and-push:\n    # ...\n\n  backend-docker-pull-and-run:\n    # ...\n")),(0,a.kt)("p",null,"workflow\uc5d0\uc11c \uc2e4\ud589\ud560 \uc791\uc5c5(job)\ub4e4\uc744 \uc815\uc758\ud558\ub294 \ubd80\ubd84\uc785\ub2c8\ub2e4.\n\ud574\ub2f9 workflow\uc5d0\uc11c\ub294 ",(0,a.kt)("inlineCode",{parentName:"p"},"backend-docker-build-and-push"),"\uc640 ",(0,a.kt)("inlineCode",{parentName:"p"},"backend-docker-pull-and-run")," \ub77c\ub294 \uc774\ub984\uc758 \uc791\uc5c5\uc774 \ub450\uac1c \uc874\uc7ac\ud569\ub2c8\ub2e4."),(0,a.kt)("br",null),(0,a.kt)("br",null),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-yml"},"backend-docker-build-and-push:\n  runs-on: ubuntu-latest\n  defaults:\n    run:\n      working-directory: ./backend\n")),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"backend-docker-build-and-push : \uc791\uc5c5\uc774 \uc218\ud589\ub418\ub294 \ud658\uacbd\uc740 ubuntu-latest\uc785\ub2c8\ub2e4."),(0,a.kt)("li",{parentName:"ul"},"defaults.run.working-directory: ./backend : defaults \ub97c \ud1b5\ud574 \uc544\ub798\uc758 \ub2e8\uacc4\uc5d0\uc11c \uacf5\ud1b5\uc73c\ub85c \uc0ac\uc6a9\ub418\ub294 \uc124\uc815\uc744 \uc9c0\uc815\ud558\uc600\uc2b5\ub2c8\ub2e4.\n\ud574\ub2f9 \uc791\uc5c5\uc5d0\uc11c\ub294 ",(0,a.kt)("inlineCode",{parentName:"li"},"working-directory"),"\ub97c \uc124\uc815\ud558\uc5ec \uc774\ud6c4\uc758 \ub2e8\uacc4\ub4e4\uc740 \ubaa8\ub450 ",(0,a.kt)("inlineCode",{parentName:"li"},"./backend")," \ub514\ub809\ud1a0\ub9ac \ub0b4\uc5d0\uc11c \uc2e4\ud589\ub429\ub2c8\ub2e4.")),(0,a.kt)("br",null),(0,a.kt)("br",null),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-yml"},"steps:\n  - name: \u2728 Checkout repository\n    uses: actions/checkout@v3\n    with:\n      submodules: true\n      token: ${{ secrets.ACTION_TOKEN }}\n")),(0,a.kt)("p",null,"on\uc5d0 \uc815\uc758\ub41c main \ube0c\ub79c\uce58\ub85c checkout\ud558\uba70, \ub3d9\uc2dc\uc5d0 submodules\uc744 \ud3ec\ud568\ud558\uc5ec \uac00\uc838\uc624\ub3c4\ub85d \uc124\uc815\ud558\uc600\uc2b5\ub2c8\ub2e4."),(0,a.kt)("p",null,"\uc774\ub54c Secret\uc5d0 ACTION_TOKEN\uc73c\ub85c \uc815\uc758\ub41c \uac12\uc744 \uc0ac\uc6a9\ud558\ub294\ub370, \ud574\ub2f9 \uac12\uc740 \uc544\ub798\uc640 \uac19\uc774 \ubc1c\uae09\ud558\uc5ec \uc0ac\uc6a9\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."),(0,a.kt)("p",null,(0,a.kt)("img",{alt:"token1",src:l(4417).Z,width:"1862",height:"1446"}),"\n(\uae43\ud5c8\ube0c\uc758 \uc6b0\uce21 \uc0c1\ub2e8 \ud504\ub85c\ud544 \uc774\ubbf8\uc9c0\ub97c \ud074\ub9ad -> Settings)"),(0,a.kt)("br",null),(0,a.kt)("br",null),(0,a.kt)("p",null,(0,a.kt)("img",{alt:"token2",src:l(7756).Z,width:"2306",height:"2312"}),"\n(Developer Settings \ud074\ub9ad)"),(0,a.kt)("br",null),(0,a.kt)("br",null),(0,a.kt)("p",null,(0,a.kt)("img",{alt:"token3",src:l(2678).Z,width:"2310",height:"506"}),"\n(Personal Access Token -> Tokens (classic) -> Generate new token -> Generate new token (classic))"),(0,a.kt)("br",null),(0,a.kt)("br",null),(0,a.kt)("p",null,(0,a.kt)("img",{alt:"token4",src:l(2900).Z,width:"1466",height:"794"}),"\n",(0,a.kt)("inlineCode",{parentName:"p"},"repo"),"\uc5d0 \ub300\ud574\uc11c\ub9cc \uccb4\ud06c\ud574\uc8fc\uc2dc\uba74 \ub429\ub2c8\ub2e4."),(0,a.kt)("p",null,"\uc774\ub807\uac8c \ud574\uc11c \uc0dd\uc131\ub41c Token\uc744 Repository Secret\uc73c\ub85c \uc124\uc815\ud574\uc8fc\uba74 \ub429\ub2c8\ub2e4.",(0,a.kt)("br",null),"\n(workflow\ub97c \uc0ac\uc6a9\ud560 Repository -> Settings -> Secrets and variables -> New repository secret\uc744 \ud1b5\ud574 \uc124\uc815\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4.)"),(0,a.kt)("br",null),(0,a.kt)("br",null),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-yml"},"- name: \u2728 JDK 17 \uc124\uc815\n  uses: actions/setup-java@v3\n  with:\n    java-version: '17'\n    distribution: 'temurin'\n")),(0,a.kt)("p",null,"\uc0ac\uc6a9\ud560 \uc790\ubc14 \ubc84\uc804\uc744 \uc124\uc815\ud558\ub294 \ubd80\ubd84\uc785\ub2c8\ub2e4.\n17\ubc84\uc804\uc744 \uc0ac\uc6a9\ud558\ub3c4\ub85d \uc124\uc815\ud558\uc600\uc2b5\ub2c8\ub2e4."),(0,a.kt)("br",null),(0,a.kt)("br",null),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-yml"},"- name: \u2728 Gradlew \uad8c\ud55c \uc124\uc815\n  run: chmod +x ./gradlew\n\n- name: \u2728 Jar \ud30c\uc77c \ube4c\ub4dc\n  run: ./gradlew bootJar\n")),(0,a.kt)("p",null,"gradlew \uc2e4\ud589 \uad8c\ud55c\uc744 \ubd80\uc5ec\ud55c \ud6c4 jootJar\uc744 \ud1b5\ud574 jar \ud30c\uc77c\uc744 \ube4c\ub4dc\ud558\ub294 \ubd80\ubd84\uc785\ub2c8\ub2e4."),(0,a.kt)("br",null),(0,a.kt)("br",null),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-yml"},"- name: \u2728 DockerHub\uc5d0 \ub85c\uadf8\uc778\n  uses: docker/login-action@v2\n  with:\n    username: ${{ secrets.DOCKER_HUB_USERNAME }}\n    password: ${{ secrets.DOCKER_HUB_PASSWORD }}\n")),(0,a.kt)("p",null,"Secrets\uc5d0 \uc815\uc758\ud55c username\uacfc password\ub97c \ud1b5\ud574 DockerHub\uc5d0 \ub85c\uadf8\uc778\ud558\ub294 \ubd80\ubd84\uc785\ub2c8\ub2e4."),(0,a.kt)("br",null),(0,a.kt)("br",null),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-yml"},"- name: \u2728 Docker Image \ube4c\ub4dc \ud6c4 DockerHub\uc5d0 Push\n  uses: docker/build-push-action@v4\n  with:\n    context: ./backend\n    file: ./backend/Dockerfile\n    push: true\n    platforms: linux/arm64\n    tags: ${{ env.DOCKER_HUB_REPOSITORY }}:${{ env.IMAGE_TAG }}\n")),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"https://github.com/docker/build-push-action"},"docker/build-push-action@v4"),"\ub97c \ud1b5\ud574 DockerHub\uc5d0 \uc774\ubbf8\uc9c0\ub97c push\ud558\ub294 \uacfc\uc815\uc744 \uc9c4\ud589\ud569\ub2c8\ub2e4."),(0,a.kt)("li",{parentName:"ul"},"context: Docker Image\ub97c \ube4c\ub4dc\ud560 \ucee8\ud14d\uc2a4\ud2b8 \uacbd\ub85c\ub97c \uc9c0\uc815\ud569\ub2c8\ub2e4. ./backend\ub97c \ud1b5\ud574 \ubc31\uc5d4\ub4dc \ub514\ub809\ud1a0\ub9ac\ub85c \uc9c0\uc815\ud588\uc2b5\ub2c8\ub2e4."),(0,a.kt)("li",{parentName:"ul"},"file: \uc774\ubbf8\uc9c0\ub97c \ube4c\ub4dc\ud560 Dockerfile\uc758 \uc704\uce58\ub97c \uc9c0\uc815\ud569\ub2c8\ub2e4."),(0,a.kt)("li",{parentName:"ul"},"push: DockerHub\uc5d0 \uc774\ubbf8\uc9c0\ub97c \ud478\uc26c\ud560\uc9c0 \uc5ec\ubd80\ub97c \uc9c0\uc815\ud569\ub2c8\ub2e4. true\ub85c \uc124\uc815\ud558\uc5ec \ud478\uc26c\ud558\ub3c4\ub85d \ud574\uc8fc\uc5c8\uc2b5\ub2c8\ub2e4."),(0,a.kt)("li",{parentName:"ul"},"\ube4c\ub4dc\ud560 \uc774\ubbf8\uc9c0 \ud50c\ub7ab\ud3fc\uc744 \uc9c0\uc815\ud569\ub2c8\ub2e4. \uc800\ud76c\uc758 \uc11c\ubc84\ub294 ubuntu(Linux/UNIX) 64-bit(ARM) \uc774\ubbc0\ub85c linux/arm64\ub85c \uc9c0\uc815\ud558\uc600\uc2b5\ub2c8\ub2e4."),(0,a.kt)("li",{parentName:"ul"},"\ube4c\ub4dc\ub420 \uc774\ubbf8\uc9c0\uc758 \ud0dc\uadf8\ub97c \uc9c0\uc815\ud569\ub2c8\ub2e4.")),(0,a.kt)("br",null),(0,a.kt)("br",null),(0,a.kt)("p",null,"\uc704 \uacfc\uc815\uc744 \uc9c4\ud589\ud558\uba74 DockerHub\uc5d0 \ub2e4\uc74c\uacfc \uac19\uc774 \uc774\ubbf8\uc9c0\uac00 \uc62c\ub77c\uac00\uac8c\ub429\ub2c8\ub2e4."),(0,a.kt)("p",null,(0,a.kt)("img",{alt:"pushed",src:l(1667).Z,width:"1494",height:"1000"})),(0,a.kt)("p",null,"\uc774\uc5b4\uc11c EC2\uc5d0\uc11c Self hosted Runner\ub97c \ud1b5\ud574 \ud574\ub2f9 \uc774\ubbf8\uc9c0\ub97c Pull \ubc1b\uc544 \uc2e4\ud589\ud558\ub294 \ubd80\ubd84\uc744 \uc0b4\ud3b4\ubcf4\uaca0\uc2b5\ub2c8\ub2e4."),(0,a.kt)("br",null),(0,a.kt)("br",null),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-yml"},"backend-docker-pull-and-run:\n  runs-on: [self-hosted, prod]\n  if: ${{ needs.backend-docker-build-and-push.result == 'success' }}\n  needs: [ backend-docker-build-and-push ]\n")),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"runs-on: \uc791\uc5c5\uc774 \uc2e4\ud589\ub420 \ud658\uacbd\uc744 \uc9c4\ud589\ud569\ub2c8\ub2e4. prod \ud658\uacbd\uc758 self-hosted-runner\ub97c \uc2e4\ud589\uc2dc\ud0a4\uae30 \uc704\ud574 \uc774\uc640 \uac19\uc774 \uc9c0\uc815\ud588\uc2b5\ub2c8\ub2e4.\n(prod\ub294 \uc774\uc804 \uae00\uc5d0\uc11c \uc0b4\ud3b4\ubcf4\uc558\ub4ef\uc774, \uc9c1\uc811 self hosted runners\uc5d0 \uc9c1\uc811 \ubd99\uc5ec\uc900 label\uc785\ub2c8\ub2e4.)"),(0,a.kt)("li",{parentName:"ul"},"if: \uc774\uc804 \uc791\uc5c5\uc778 backend-docker-build-and-push\uac00 \uc131\uacf5\ud588\uc744 \uacbd\uc6b0\uc5d0\ub9cc \uc2e4\ud589\ub418\ub3c4\ub85d if\ub97c \ud1b5\ud574 \uc870\uac74\uc744 \uc9c0\uc815\ud574\uc8fc\uc5c8\uc2b5\ub2c8\ub2e4."),(0,a.kt)("li",{parentName:"ul"},"needs: \ud574\ub2f9 \uc791\uc5c5\uc774 \uc758\uc874\ud558\ub294 \uc791\uc5c5\uc744 \uc9c0\uc815\ud569\ub2c8\ub2e4. \ud574\ub2f9 \uc791\uc5c5\uc740 backend-docker-build-and-push \ub4a4\uc5d0 \uc2e4\ud589\ub418\uc57c \ud558\ubbc0\ub85c needs\ub97c \ud1b5\ud574 \uc9c0\uc815\ud574\uc8fc\uc5c8\uc2b5\ub2c8\ub2e4.")),(0,a.kt)("br",null),(0,a.kt)("br",null),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-yml"},"steps:\n  - name: \u2728 DockerHub\uc5d0\uc11c Image Pull\n    run: |\n      docker login --username ${{ secrets.DOCKER_HUB_USERNAME }} --password ${{ secrets.DOCKER_HUB_PASSWORD }}\n      docker pull ${{ env.DOCKER_HUB_REPOSITORY }}:${{ env.IMAGE_TAG }}\n      docker stop ${{ env.DOCKER_CONTAINER_NAME }} || true\n      docker container prune -f\n      docker image prune -f\n")),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"docker login ~ : dockerhub\uc5d0 \ub85c\uadf8\uc778\ud558\ub294 \ubd80\ubd84\uc785\ub2c8\ub2e4."),(0,a.kt)("li",{parentName:"ul"},"docker pull ~ : \uc774\uc804 \uc791\uc5c5\uc5d0\uc11c dockerhub\uc5d0 push\ud55c \uc774\ubbf8\uc9c0\ub97c pull\ud558\ub294 \ubd80\ubd84\uc785\ub2c8\ub2e4."),(0,a.kt)("li",{parentName:"ul"},"docker stop ~ : EC2\uc5d0 \uc2e4\ud589\uc911\uc778 docker container(\uc5ec\uae30\uc11c\ub294 Spring Application)\uac00 \uc788\uc73c\uba74 \uc774\ub97c \uc885\ub8cc\ud569\ub2c8\ub2e4.",(0,a.kt)("ul",{parentName:"li"},(0,a.kt)("li",{parentName:"ul"},"|| true \ub97c \ud1b5\ud574 backend\ub77c\ub294 \ucee8\ud14c\uc774\ub108\uac00 \uc5c6\ub354\ub77c\ub3c4 \uc624\ub958\uac00 \ubc1c\uc0dd\ud558\uc9c0 \uc54a\uace0 \uc9c4\ud589\ud558\ub3c4\ub85d \ud569\ub2c8\ub2e4."))),(0,a.kt)("li",{parentName:"ul"},"docker container prune -f: \uc0ac\uc6a9\ud558\uc9c0 \uc54a\ub294 \ub3c4\ucee4 \ucee8\ud14c\uc774\ub108\ub97c \uc81c\uac70\ud569\ub2c8\ub2e4. -f\ub97c \ud1b5\ud574 \uc0ac\uc6a9\uc790\uc758 \ud655\uc778\uc744 \ubb3b\uc9c0 \uc54a\uace0 \uc9c4\ud589\ud569\ub2c8\ub2e4."),(0,a.kt)("li",{parentName:"ul"},"docker image prune -f: \uc774\ub984 \uc5c6\ub294 \ubaa8\ub4e0 \uc774\ubbf8\uc9c0\ub97c \uc0ad\uc81c\ud569\ub2c8\ub2e4.")),(0,a.kt)("br",null),(0,a.kt)("br",null),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-yml"},'- name: \u2728 Docker Image \uc2e4\ud589\n  run: |\n    docker run \\\n      -d \\\n      --name ${{ env.DOCKER_CONTAINER_NAME }} \\\n      -p 8080:8080 \\\n      -e "SPRING_PROFILES_ACTIVE=${{ env.PROFILE }}" \\\n      ${{ env.DOCKER_HUB_REPOSITORY }}:${{ env.IMAGE_TAG }}\n')),(0,a.kt)("p",null,"\uc704 \uc635\uc158\ub4e4\uc740 \ubaa8\ub450 \uc774\uc804\uc5d0 \uc124\uba85\ud55c \uc635\uc158\ub4e4\uc774\ubbc0\ub85c \ub530\ub85c \uc124\uba85\ud558\uc9c0 \uc54a\uaca0\uc2b5\ub2c8\ub2e4."),(0,a.kt)("p",null,"\uc774\ub807\uac8c \ud574\uc11c \ubc31\uc5d4\ub4dc\uc758 CD \uc124\uc815\uc774 \ub05d\ub0ac\uc2b5\ub2c8\ub2e4. \uc774\uc5b4\uc11c \ud504\ub860\ud2b8\uc5d4\ub4dc\ub85c \ub118\uc5b4\uac00\ub3c4\ub85d \ud558\uaca0\uc2b5\ub2c8\ub2e4."),(0,a.kt)("br",null),(0,a.kt)("br",null),(0,a.kt)("br",null),(0,a.kt)("br",null),(0,a.kt)("br",null),(0,a.kt)("br",null),(0,a.kt)("h2",{id:"-\ud504\ub860\ud2b8\uc5d4\ub4dc-dockerfile-\uc791\uc131\ud558\uae30"},"\ud83e\uddd0 \ud504\ub860\ud2b8\uc5d4\ub4dc Dockerfile \uc791\uc131\ud558\uae30"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-dockerfile"},'FROM node:18-alpine\n\nWORKDIR /app\n\nCOPY package.json yarn.lock .\n\nRUN yarn install\n\nCOPY . .\n\nRUN yarn build\n\nCMD ["yarn", "start", "--port", "3000"]\n')),(0,a.kt)("p",null,"\ud55c \uc904 \ud55c \uc904 \uc0b4\ud3b4\ubcf4\ub3c4\ub85d \ud558\uaca0\uc2b5\ub2c8\ub2e4."),(0,a.kt)("br",null),(0,a.kt)("br",null),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-dockerfile"},"FROM node:18-alpine\n")),(0,a.kt)("p",null,"Docker \uc774\ubbf8\uc9c0 \uc0dd\uc131 \uc2dc \uae30\ubc18\uc774 \ub418\ub294 \uc774\ubbf8\uc9c0 \ub808\uc774\uc5b4\ub97c \uc815\uc758\ud558\ub294 \ubd80\ubd84\uc785\ub2c8\ub2e4.",(0,a.kt)("br",null),"\n\uc800\ud76c\uc758 \ud504\ub85c\uc81d\ud2b8\ub294 node 18.16.1\ubc84\uc804\uc744 \uc0ac\uc6a9\ud558\ubbc0\ub85c node:18-alpine\uc744 \uc0ac\uc6a9\ud588\uc2b5\ub2c8\ub2e4."),(0,a.kt)("br",null),(0,a.kt)("br",null),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-dockerfile"},"WORKDIR /app\n")),(0,a.kt)("p",null,"\ub3c4\ucee4 \ucee8\ud14c\uc774\ub108 \ub0b4\uc5d0\uc11c\uc758 \uc791\uc5c5 \ub514\ub809\ud1a0\ub9ac\ub97c ",(0,a.kt)("inlineCode",{parentName:"p"},"/app"),"\uc73c\ub85c \uc124\uc815\ud569\ub2c8\ub2e4.",(0,a.kt)("br",null),"\n\uc774\ud6c4 \uc9c4\ud589\ub418\ub294 \uc791\uc5c5\ub4e4\uc740 \ubaa8\ub450 ",(0,a.kt)("inlineCode",{parentName:"p"},"/app"),"  \ub0b4\ubd80\uc5d0\uc11c \uc9c4\ud589\ub429\ub2c8\ub2e4."),(0,a.kt)("br",null),(0,a.kt)("br",null),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-dockerfile"},"COPY package.json yarn.lock .\n")),(0,a.kt)("p",null,"\uc774 \ubd80\ubd84\uc740 \uc0ac\uc6a9\uc790\uc758 \ucef4\ud4e8\ud130(\ud638\uc2a4\ud2b8)\uc758 package.json\uacfc yarn.lock \ud30c\uc77c\uc744\n\ucee8\ud14c\uc774\ub108 \ub0b4\ubd80\ub85c \ubcf5\uc0ac\ud569\ub2c8\ub2e4.\n\uc774 \ub450 \ud30c\uc77c\ub9cc \uba3c\uc800 \uc218\ud589\ud558\ub294 \uc774\uc720\ub294 \uc131\ub2a5\uc0c1\uc758 \uc774\uc720 \ub54c\ubb38\uc778\ub370, \uc704 \ub450 \ud30c\uc77c\uc744 \uc790\uc8fc \ubcc0\uacbd\ub418\uc9c0 \uc54a\uc73c\ubbc0\ub85c \uba3c\uc800 \ubcf5\uc0ac\ud558\uc5ec \ub3c4\ucee4 \ub808\uc774\uc5b4\ub97c \uce90\uc2f1\ud574\ub450\uba74 \uc774\ud6c4 \ube4c\ub4dc\uac00 \ub354 \ube68\ub77c\uc9d1\ub2c8\ub2e4."),(0,a.kt)("br",null),(0,a.kt)("br",null),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-dockerfile"},"RUN yarn install\n")),(0,a.kt)("p",null,"yarn install \uba85\ub839\uc744 \uc2e4\ud589\ud558\uc5ec package.json\uc5d0 \uba85\uc2dc\ub41c \uc885\uc18d\uc131\ub4e4\uc744 \uc124\uce58\ud569\ub2c8\ub2e4."),(0,a.kt)("br",null),(0,a.kt)("br",null),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-dockerfile"},"COPY . .\n")),(0,a.kt)("p",null,"\uc774 \ubd80\ubd84\uc740 \uc0ac\uc6a9\uc790\uc758 \ucef4\ud4e8\ud130(\ud638\uc2a4\ud2b8)\uc758 \ubaa8\ub4e0 \ud30c\uc77c\uc744 \ucee8\ud14c\uc774\ub108 \ub0b4\ubd80\ub85c \ubcf5\uc0ac\ud569\ub2c8\ub2e4."),(0,a.kt)("br",null),(0,a.kt)("br",null),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-dockerfile"},"RUN yarn build\n")),(0,a.kt)("p",null,"\uc560\ud50c\ub9ac\ucf00\uc774\uc158\uc744 \ube4c\ub4dc\ud569\ub2c8\ub2e4."),(0,a.kt)("br",null),(0,a.kt)("br",null),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-dockerfile"},'CMD ["yarn", "start", "--port", "3000"]\n')),(0,a.kt)("p",null,"3000\ubc88 \ud3ec\ud2b8\ub85c \uc560\ud50c\ub9ac\ucf00\uc774\uc158\uc744 \uc2e4\ud589\ud569\ub2c8\ub2e4."),(0,a.kt)("br",null),(0,a.kt)("br",null),(0,a.kt)("br",null),(0,a.kt)("h2",{id:"-\ud504\ub860\ud2b8\uc5d4\ub4dc-cd-workflow-\uc791\uc131\ud558\uae30"},"\ud83e\uddd0 \ud504\ub860\ud2b8\uc5d4\ub4dc CD workflow \uc791\uc131\ud558\uae30"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-yml"},"name: \ud83c\udf54 Celuveat frontend PROD CD \ud83c\udf54\n\nenv:\n  PROFILE: prod\n  IMAGE_TAG: front-prod-${{ secrets.APP_VERSION_TAG }}\n  DOCKER_CONTAINER_NAME: frontend\n  DOCKER_HUB_REPOSITORY: celuveat/celuveat\n\non:\n  workflow_dispatch:\n  push:\n    branches:\n      - main\n    paths:\n      - \"frontend/**\"\n\njobs:\n  frontend-build-and-push:\n    runs-on: ubuntu-latest\n    defaults:\n      run:\n        working-directory: ./frontend\n\n    steps:\n      - name: \ud83c\udf54 Checkout repository\n        uses: actions/checkout@v3\n\n      - name: \ud83c\udf54 .env \ud30c\uc77c \uc138\ud305\n        run: |\n          touch .env\n          echo GOOGLE_MAP_API_KEY=${{ secrets.GOOGLE_MAP_API_KEY }} > .env\n          echo BASE_URL=${{ secrets.PROD_BASE_URL }} >> .env\n\n      - name: \ud83c\udf54 DockerHub\uc5d0 \ub85c\uadf8\uc778\n        uses: docker/login-action@v2\n        with:\n          username: ${{ secrets.DOCKER_HUB_USERNAME }}\n          password: ${{ secrets.DOCKER_HUB_PASSWORD }}\n\n      # Dockerfile\uc5d0\uc11c yarn \uc0ac\uc6a9\ud558\ub824\uba74 \ud544\uc694\ud568\n      - name: \ud83c\udf54 Set up Docker Buildx\n        uses: docker/setup-buildx-action@v2\n\n      - name: \ud83c\udf54 Docker Image \ube4c\ub4dc \ud6c4 DockerHub\uc5d0 Push\n        uses: docker/build-push-action@v4\n        with:\n          context: ./frontend\n          file: ./frontend/Dockerfile\n          push: true\n          platforms: linux/arm64\n          tags: ${{ env.DOCKER_HUB_REPOSITORY }}:${{ env.IMAGE_TAG }}\n          cache-from: type=gha\n          cache-to: type=gha,mode=max\n\n  frontend-docker-pull-and-run:\n    runs-on: [self-hosted, prod]\n    if: ${{ needs.frontend-build-and-push.result == 'success' }}\n    needs: [ frontend-build-and-push ]\n\n    steps:\n      - name: \ud83c\udf54 DockerHub\uc5d0\uc11c Image Pull\n        run: |\n          docker login --username ${{ secrets.DOCKER_HUB_USERNAME }} --password ${{ secrets.DOCKER_HUB_PASSWORD }}\n          docker pull ${{ env.DOCKER_HUB_REPOSITORY }}:${{ env.IMAGE_TAG }}\n          docker stop ${{ env.DOCKER_CONTAINER_NAME }} || true\n          docker container prune -f\n          docker image prune -f\n\n      - name: \ud83c\udf54 Docker Image \uc2e4\ud589\n        run: |\n          docker run \\\n            -d \\\n            --name ${{ env.DOCKER_CONTAINER_NAME }} \\\n            -p 3000:3000 \\\n            ${{ env.DOCKER_HUB_REPOSITORY }}:${{ env.IMAGE_TAG }}\n")),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"cache-from, cache-to: \ub2e4\uc74c \uae00\uc5d0\uc11c \uc790\uc138\ud788 \uc124\uba85\ud560 \uc608\uc815\uc774\uc9c0\ub9cc, \uac04\ub2e8\ud558\uac8c\ub294 \ub3c4\ucee4 \ub808\uc774\uc5b4\uc758 \uce90\uc2f1\uc744 \uc704\ud574 \uc0ac\uc6a9\ud569\ub2c8\ub2e4.\n\uc774\ub97c \uc0ac\uc6a9\ud558\uc9c0 \uc54a\uc73c\uba74 \ub9e4\ubc88 10\ubd84\uc815\ub3c4 \uac78\ub9ac\ub294 \ube4c\ub4dc \uc2dc\uac04\uc774 (yarn install\uc758 \uce90\uc2f1\uc73c\ub85c \uc778\ud574) \uc808\ubc18\uac00\ub7c9 \uc904\uc5b4\ub4e4\uac8c \ub429\ub2c8\ub2e4.")),(0,a.kt)("p",null,"\ub098\uba38\uc9c0 \ubd80\ubd84\uc740 \ubc31\uc5d4\ub4dc\uc640 \uac70\uc758 \ub3d9\uc77c\ud558\ubbc0\ub85c \ubcc4\ub2e4\ub978 \uc124\uba85 \uc5c6\uc774 \ub9c8\uce58\ub3c4\ub85d \ud558\uaca0\uc2b5\ub2c8\ub2e4."),(0,a.kt)("br",null),(0,a.kt)("br",null),(0,a.kt)("br",null),(0,a.kt)("br",null),(0,a.kt)("br",null),(0,a.kt)("h2",{id:"gradle-caching\uc744-\ud1b5\ud55c-\uc18d\ub3c4-\ud5a5\uc0c1"},"\ud83e\uddd0Gradle Caching\uc744 \ud1b5\ud55c \uc18d\ub3c4 \ud5a5\uc0c1"),(0,a.kt)("p",null,"\ud604\uc7ac github actions\uc758 workflow\uac00 \uc804\uccb4 \uc791\uc5c5\uc744 \uc218\ud589\ud558\ub294\ub370 \uac78\ub9ac\ub294 \uc2dc\uac04\uc740 \ub2e4\uc74c\uacfc \uac19\uc2b5\ub2c8\ub2e4."),(0,a.kt)("p",null,(0,a.kt)("img",{alt:"no-caching-1",src:l(2668).Z,width:"2176",height:"828"}),"\n",(0,a.kt)("img",{alt:"no-caching-2",src:l(4822).Z,width:"1280",height:"443"}),"\n",(0,a.kt)("img",{alt:"no-caching-3",src:l(3377).Z,width:"1285",height:"452"}),"\n",(0,a.kt)("img",{alt:"no-caching-4",src:l(5175).Z,width:"1288",height:"458"})),(0,a.kt)("p",null,"\ud3c9\uade0\uc801\uc73c\ub85c 1\ubd84 10\ucd08 \uc815\ub3c4\uc758 \uc2dc\uac04\uc774 \uac78\ub9ac\ub294 \uac83\uc744 \uc54c \uc218 \uc788\uc2b5\ub2c8\ub2e4."),(0,a.kt)("p",null,"\uc774\ub97c \uc904\uc774\uae30 \uc704\ud574 Gradle Caching\uc744 \ud574\ubcf4\ub3c4\ub85d \ud558\uaca0\uc2b5\ub2c8\ub2e4."),(0,a.kt)("br",null),(0,a.kt)("br",null),(0,a.kt)("br",null),(0,a.kt)("h3",{id:"-gradle-caching\uc774\ub780"},"\ud83d\ude80 Gradle Caching\uc774\ub780?"),(0,a.kt)("p",null,"(\ucc38\uace0 - ",(0,a.kt)("a",{parentName:"p",href:"https://docs.gradle.org/current/userguide/core_dependency_management.html#sec:dependency-mgmt-in-gradle"},"\uacf5\uc2dd\ubb38\uc11c"),")",(0,a.kt)("br",null),"\nGradle\uc740 \ube4c\ub4dc \uc2dc\uc5d0 \uc791\uc5c5(Task)\uc758\uc874\uc131 \ud328\ud0a4\uc9c0\ub4e4\uc744 \ubaa8\ub450 \uac00\uc838\uc628 \ub4a4, \uc774\ub4e4\uc744 dependency cache\ub77c \ubd88\ub9ac\ub294 \ub85c\uceec \uce90\uc2dc\uc5d0 \ubcf4\uad00\ud558\uc5ec\n\uc774\ud6c4 \ud638\ucd9c\uc5d0\uc11c \ubd88\ud544\uc694\ud55c \ub124\ud2b8\uc6cc\ud06c \ud638\ucd9c\uc744 \ubc29\uc9c0\ud558\ub294 \uc804\ub7b5\uc744 \uc0ac\uc6a9\ud569\ub2c8\ub2e4."),(0,a.kt)("p",null,"\uadf8\ub7ec\ub098 Github Actions\uc758 workflow\uc5d0\uc11c\ub294 \ub9e4 \uc2e4\ud589\ub9c8\ub2e4 \uc0c8\ub86d\uac8c \uc758\uc874\uc131\ub4e4\uc744 \uac00\uc9c0\uace0 \uc624\uac8c \ub429\ub2c8\ub2e4.",(0,a.kt)("br",null),"\n\uc758\uc874\uc131\uc744 \uac00\uc838\uc624\uae30 \uc704\ud574 \ub300\uccb4\ub85c \ub124\ud2b8\uc6cc\ud06c \ud638\ucd9c\uc744 \uc0ac\uc6a9\ud558\uae30 \ub54c\ubb38\uc5d0, \ud574\ub2f9 \uacfc\uc815\uc774 \uc5c6\uc5b4\uc9c4\ub2e4\uba74 \uc804\uccb4 \ube4c\ub4dc \uc2dc\uac04\uc774 \ub9e4\uc6b0 \ub2e8\ucd95\ub420 \uac83\uc774\ub77c \uc608\uc0c1\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."),(0,a.kt)("p",null,"\ud55c\ubc88 Gradle Caching\uc744 \uc801\uc6a9\ud558\uc5ec \uc131\ub2a5 \ud5a5\uc0c1\uc774 \uc5bc\ub9c8\ub098 \uc774\ub8e8\uc5b4\uc9c0\ub294\uc9c0 \ud655\uc778\ud574\ubcf4\ub3c4\ub85d \ud558\uaca0\uc2b5\ub2c8\ub2e4.\n\ubc29\ubc95\uc740 \ub9e4\uc6b0 \uac04\ub2e8\ud569\ub2c8\ub2e4."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-yml"},"- name: \u2728 Gradle Caching\n  uses: actions/cache@v3\n  with:\n    path: |\n        ~/.gradle/caches\n        ~/.gradle/wrapper\n    key: ${{ runner.os }}-gradle-${{ hashFiles('**/*.gradle*', '**/gradle-wrapper.properties') }}\n    restore-keys: |\n        ${{ runner.os }}-gradle-\n")),(0,a.kt)("p",null,"\uc704 \ucf54\ub4dc\ub97c \ucd94\uac00\ud574\uc8fc\uba74 \ub418\ub294\ub370\uc694, \uc774\ub97c \uc801\uc6a9\ud55c \uc804\uccb4 workflow\ub294 \ub2e4\uc74c\uacfc \uac19\uc2b5\ub2c8\ub2e4."),(0,a.kt)("br",null),(0,a.kt)("br",null),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-yml"},"name: \u2728 Celuveat backend PROD CD \u2728\n\nenv:\n  PROFILE: prod\n  IMAGE_TAG: back-prod-${{ secrets.APP_VERSION_TAG }}\n  DOCKER_CONTAINER_NAME: backend\n  DOCKER_HUB_REPOSITORY: celuveat/celuveat\n\non:\n  workflow_dispatch:\n  push:\n    branches:\n      - main\n    paths:\n      - \"backend/**\"\n\njobs:\n  backend-docker-build-and-push:\n    runs-on: ubuntu-latest\n    defaults:\n      run:\n        working-directory: ./backend\n\n    steps:\n      - name: \u2728 Checkout repository\n        uses: actions/checkout@v3\n        with:\n          submodules: true\n          token: ${{ secrets.ACTION_TOKEN }}\n\n      - name: \u2728 JDK 17 \uc124\uc815\n        uses: actions/setup-java@v3\n        with:\n          java-version: '17'\n          distribution: 'temurin'\n\n      - name: \u2728 Gradle Caching\n        uses: actions/cache@v3\n        with:\n          path: |\n              ~/.gradle/caches\n              ~/.gradle/wrapper\n          key: ${{ runner.os }}-gradle-${{ hashFiles('**/*.gradle*', '**/gradle-wrapper.properties') }}\n          restore-keys: |\n              ${{ runner.os }}-gradle-\n\n      - name: \u2728 Gradlew \uad8c\ud55c \uc124\uc815\n        run: chmod +x ./gradlew\n\n      - name: \u2728 Jar \ud30c\uc77c \ube4c\ub4dc\n        run: ./gradlew bootJar\n\n      - name: \u2728 DockerHub\uc5d0 \ub85c\uadf8\uc778\n        uses: docker/login-action@v2\n        with:\n          username: ${{ secrets.DOCKER_HUB_USERNAME }}\n          password: ${{ secrets.DOCKER_HUB_PASSWORD }}\n\n      - name: \u2728 Docker Image \ube4c\ub4dc \ud6c4 DockerHub\uc5d0 Push\n        uses: docker/build-push-action@v4\n        with:\n          context: ./backend\n          file: ./backend/Dockerfile\n          push: true\n          platforms: linux/arm64\n          tags: ${{ env.DOCKER_HUB_REPOSITORY }}:${{ env.IMAGE_TAG }}\n\n  backend-docker-pull-and-run:\n    runs-on: [self-hosted, prod]\n    if: ${{ needs.backend-docker-build-and-push.result == 'success' }}\n    needs: [ backend-docker-build-and-push ]\n    steps:\n      - name: \u2728 DockerHub\uc5d0\uc11c Image Pull\n        run: |\n          docker login --username ${{ secrets.DOCKER_HUB_USERNAME }} --password ${{ secrets.DOCKER_HUB_PASSWORD }}\n          docker pull ${{ env.DOCKER_HUB_REPOSITORY }}:${{ env.IMAGE_TAG }}\n          docker stop ${{ env.DOCKER_CONTAINER_NAME }} || true\n          docker container prune -f\n          docker image prune -f\n\n      - name: \u2728 Docker Image \uc2e4\ud589\n        run: |\n          docker run \\\n            -d \\\n            --name ${{ env.DOCKER_CONTAINER_NAME }} \\\n            -p 8080:8080 \\\n            -e \"SPRING_PROFILES_ACTIVE=${{ env.PROFILE }}\" \\\n            ${{ env.DOCKER_HUB_REPOSITORY }}:${{ env.IMAGE_TAG }}\n")),(0,a.kt)("br",null),(0,a.kt)("br",null),(0,a.kt)("p",null,"\uce90\uc2f1\uc744 \uc801\uc6a9\ud55c github actions\uc758 workflow\uac00 (jar \ud30c\uc77c\uc758 \ubcc0\uacbd \uc5c6\uc774) \uc804\uccb4 \uc791\uc5c5\uc744 \uc218\ud589\ud558\ub294\ub370 \uac78\ub9ac\ub294 \uc2dc\uac04\uc740 \ub2e4\uc74c\uacfc \uac19\uc2b5\ub2c8\ub2e4."),(0,a.kt)("h4",{id:"\uccab-\uc2e4\ud589"},"\uccab \uc2e4\ud589"),(0,a.kt)("p",null,(0,a.kt)("img",{alt:"yes-caching-1",src:l(6588).Z,width:"1281",height:"457"})),(0,a.kt)("h4",{id:"\uc774\ud6c4-\uc2e4\ud589"},"\uc774\ud6c4 \uc2e4\ud589"),(0,a.kt)("p",null,(0,a.kt)("img",{alt:"yes-caching-2",src:l(4720).Z,width:"1280",height:"457"}),"\n",(0,a.kt)("img",{alt:"yes-caching-3",src:l(5327).Z,width:"1284",height:"472"}),"\n",(0,a.kt)("img",{alt:"yes-caching-4",src:l(3144).Z,width:"1291",height:"465"}),"\n",(0,a.kt)("img",{alt:"yes-caching-5",src:l(600).Z,width:"1278",height:"452"})),(0,a.kt)("br",null),(0,a.kt)("p",null,"\uac04\ub2e8\ud55c \uadf8\ub798\uc774\ub4e4 \uce90\uc2f1\ub9cc\uc73c\ub85c\ub3c4 (\uccab \uc2e4\ud589 \uc81c\uc678) \uc131\ub2a5\uc774 \ub300\ub7b5 25%\uc815\ub3c4 \ud5a5\uc0c1\ub41c \uac83\uc744 \ud655\uc778\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."),(0,a.kt)("br",null),(0,a.kt)("br",null),(0,a.kt)("br",null),(0,a.kt)("p",null,"\uc774\ub807\uac8c \ud574\uc11c \uc774\ubc88 \uae00\uc5d0\uc11c\ub294 \uc800\ud76c \uc140\ub7fd\uc787 \ud300\uc758 Docker\ub97c \ud1b5\ud55c CD \ud658\uacbd \uad6c\ucd95 \uacfc\uc815\uc744 \uc0b4\ud3b4\ubcf4\uc558\uc2b5\ub2c8\ub2e4."),(0,a.kt)("p",null,"\uc77d\uc5b4\uc8fc\uc154\uc11c \uac10\uc0ac\ud569\ub2c8\ub2e4 \ud83d\ude0a"),(0,a.kt)("br",null),(0,a.kt)("br",null),(0,a.kt)("br",null))}p.isMDXComponent=!0},2623:(e,n,l)=>{l.d(n,{Z:()=>t});const t=l.p+"assets/images/cicd3-19cb032b6b8447c6211c7a7f934074f9.png"},5888:(e,n,l)=>{l.d(n,{Z:()=>t});const t=l.p+"assets/images/dockerbuild-161552c63864ca7d6b854d166eebf40e.png"},178:(e,n,l)=>{l.d(n,{Z:()=>t});const t=l.p+"assets/images/dockerfile1-49f6732c9c99b44d8f958b9b9597f2ed.png"},1205:(e,n,l)=>{l.d(n,{Z:()=>t});const t=l.p+"assets/images/dockerhubpush-d465bae313eaedfb5baf61eaed1c4777.png"},1667:(e,n,l)=>{l.d(n,{Z:()=>t});const t=l.p+"assets/images/dockerhubpushed-a5eabe7161db197b852780712a6aac74.png"},5949:(e,n,l)=>{l.d(n,{Z:()=>t});const t=l.p+"assets/images/dockerhubrepository-cd3ff55054ddc486db031f1efa5de335.png"},8382:(e,n,l)=>{l.d(n,{Z:()=>t});const t=l.p+"assets/images/dockerimages-769d43541a62bfe899d32277ce37ccb0.png"},3318:(e,n,l)=>{l.d(n,{Z:()=>t});const t=l.p+"assets/images/dockerlog-87ec6f90f5984274c4104e80375345f3.png"},1337:(e,n,l)=>{l.d(n,{Z:()=>t});const t=l.p+"assets/images/dockerlogin-7bb5dc44577d528658931740bff311e4.png"},9211:(e,n,l)=>{l.d(n,{Z:()=>t});const t=l.p+"assets/images/dockerlogin2-3686d50a478f8355f6e897fe3c2c8144.png"},6833:(e,n,l)=>{l.d(n,{Z:()=>t});const t=l.p+"assets/images/dockerpulled-ef16ef0a27ba01ed8f7ba00b5fbcfa77.png"},9027:(e,n,l)=>{l.d(n,{Z:()=>t});const t=l.p+"assets/images/dockerrun-0571a38dc498e8874fbb1d98632d8186.png"},5554:(e,n,l)=>{l.d(n,{Z:()=>t});const t=l.p+"assets/images/dockerun2-424f816c645d0933005e23a224b45ce0.png"},8691:(e,n,l)=>{l.d(n,{Z:()=>t});const t="data:image/png;base64,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"},2668:(e,n,l)=>{l.d(n,{Z:()=>t});const t=l.p+"assets/images/no-caching-1-a4e6574293e280f738367afe92b15e40.png"},4822:(e,n,l)=>{l.d(n,{Z:()=>t});const t=l.p+"assets/images/no-caching-2-437a911a56d5f01d20ef47e99b82d3e1.png"},3377:(e,n,l)=>{l.d(n,{Z:()=>t});const t=l.p+"assets/images/no-caching-3-e1acbb2d3a06d5a966f697093d7abd6c.png"},5175:(e,n,l)=>{l.d(n,{Z:()=>t});const t=l.p+"assets/images/no-caching-4-99473da8cc2a6699916a7553b4120da4.png"},3194:(e,n,l)=>{l.d(n,{Z:()=>t});const t=l.p+"assets/images/permissiondenied-994069ef0c414cc08c676efbcd656164.png"},6608:(e,n,l)=>{l.d(n,{Z:()=>t});const t=l.p+"assets/images/pushed-f165e23cca6b5892bb343e9434ebb223.png"},4417:(e,n,l)=>{l.d(n,{Z:()=>t});const t=l.p+"assets/images/token1-92dbcae9e6e6d7a780897b735e919f42.png"},7756:(e,n,l)=>{l.d(n,{Z:()=>t});const t=l.p+"assets/images/token2-9a3a0138b60a150f3640acbd451601b2.png"},2678:(e,n,l)=>{l.d(n,{Z:()=>t});const t=l.p+"assets/images/token3-1e06ba2ffe62f857e7163acdd16d395a.png"},2900:(e,n,l)=>{l.d(n,{Z:()=>t});const t=l.p+"assets/images/token4-f8edd91f07bbcc1f2c9b08c6c5fda257.png"},6588:(e,n,l)=>{l.d(n,{Z:()=>t});const t=l.p+"assets/images/yes-caching-1-dc299137f6ce1f93af611bd392180fcb.png"},4720:(e,n,l)=>{l.d(n,{Z:()=>t});const t=l.p+"assets/images/yes-caching-2-5298a3a0ed1e86272f8ca005821f6e82.png"},5327:(e,n,l)=>{l.d(n,{Z:()=>t});const t=l.p+"assets/images/yes-caching-3-ec3e037f670b91b557c3bc9d5f3ee3cc.png"},3144:(e,n,l)=>{l.d(n,{Z:()=>t});const t=l.p+"assets/images/yes-caching-4-3a3606210f160b8a70c4ebae7b85e624.png"},600:(e,n,l)=>{l.d(n,{Z:()=>t});const t=l.p+"assets/images/yes-caching-5-3af9397f0f1cfdc9d5e640189fb18e3d.png"}}]);